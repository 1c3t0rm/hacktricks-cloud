# DO - qo'q

<details>

<summary><strong>AWS hackingni nolga chiqarishdan boshlab usta darajasiga o'rganing</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Qizil Jamoa Eksperti)</strong></a><strong>!</strong></summary>

HackTricksni qo'llab-quvvatlashning boshqa usullari:

* Agar siz **kompaniyangizni HackTricksda reklama qilishni** yoki **HackTricksni PDF formatida yuklab olishni** xohlaysiz bo'lsa, [**OBUNA REJALARI**](https://github.com/sponsors/carlospolop)ni tekshiring!
* [**Rasmiy PEASS & HackTricks swag**](https://peass.creator-spring.com)ni oling
* [**The PEASS Oilasi**](https://opensea.io/collection/the-peass-family), bizning maxsus [**NFTlar**](https://opensea.io/collection/the-peass-family) to'plamini kashf eting
* **üí¨ [**Discord guruhiga**](https://discord.gg/hRep4RUj7f) yoki [**telegram guruhiga**](https://t.me/peass) qo'shiling yoki bizni **Twitter**da **kuzating** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Hacking usullaringizni** [**HackTricks**](https://github.com/carlospolop/hacktricks) va [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github reposiga **PR yuborib** ulashing.

</details>

## Asosiy Ma'lumotlar

DigitalOceanda "qo'q" v**irtual maxfiy server (VPS)**, veb-saytlarni va dasturlarni joylashtirish uchun ishlatiladigan serverdir. Qo'q, DigitalOceanning bulut infrastrukturasi bo'yicha tez va oson tarzda o'rnatilishi mumkin bo'lgan, belgilangan miqdorda CPU, xotira va saqlash bilan birga kelgan **tayyorlangan kompyuterni** ifodalovchi paketdir.

Siz **umumiy operatsion tizimlardan**, allaqachon ishlayotgan **dasturlardan** (masalan, WordPress, cPanel, Laravel...) tanlash mumkin, yoki **o'zingizning tasvirlaringizni** yuklash va foydalanish mumkin.

Qo'qlar **Foydalanuvchi ma'lumotlari skriptlarini** qo'llab-quvvatlashadi.

<details>

<summary>Snapshot va rezerv narsalarining farqi</summary>

DigitalOcean'da snapshot, qo'qning diskining vaqtda olingan nusxasi hisoblanadi. U, qo'qning diskining operatsion tizimi, o'rnatilgan dasturlar va diskdagi barcha fayllar va ma'lumotlarni olingan vaqtdagi holatini o'z ichiga oladi.

Snapshotlar, asosiy qo'qning konfiguratsiyasi bilan bir xil konfiguratsiyaga ega yangi qo'qlarni yaratish yoki qo'qni snapshot olingan vaqtdagi holatiga tiklash uchun ishlatilishi mumkin. Snapshotlar DigitalOceanning obyekt saqlash xizmatida saqlanadi va ular inkremental, ya'ni oxirgi snapshotdan keyingi o'zgarishlar faqat saqlanadi. Bu ularni foydalanishni samarali va saqlashni arzon qiladi.

Boshqa tomondan aytganda, rezerv, qo'qning operatsion tizimi, o'rnatilgan dasturlar, fayllar va ma'lumotlar, shuningdek, qo'qning sozlamalari va metadatasi bilan to'liq nusxasi hisoblanadi. Rezervlar odatda mavjud qo'qning holatini belgilangan vaqtda to'liq o'z ichiga oladi.

Snapshotlarning aksincha, rezervlar barcha ma'lumotlarni to'plangan va shifrlangan formatda saqlaydi va ular DigitalOceanning infrastrukturidan uzoq joyga o'tkaziladi. Bu rezervlar ma'lumot yo'qotilishi yoki boshqa katastrofik hodisalar bo'lganida qo'qning to'liq nusxasini tiklash uchun ideal bo'ladi.

Xulosa qilish uchun, snapshotlar qo'qning diskining vaqtda olingan nusxalari, rezervlar esa qo'qning sozlamalari va metadatasi bilan bir xil qo'qning to'liq nusxalari hisoblanadi. Snapshotlar DigitalOceanning obyekt saqlash xizmatida saqlanadi, rezervlar esa DigitalOceanning infrastrukturidan uzoq joyga o'tkaziladi. Qo'qni tiklash uchun ham snapshotlar, ham rezervlar ishlatilishi mumkin, lekin snapshotlar foydalanish va saqlash uchun samarali, rezervlar esa katastrofik hodisalar uchun to'liq nusxalashning kengaytirilgan yechimini taqdim etadi.

</details>

### Autentifikatsiya

Autentifikatsiya uchun SSH-ni **yoqish** mumkin, foydalanuvchi nomi va **parol** orqali (qo'q yaratilganida belgilangan parol). Yoki **yuklangan SSH kalitlaringizdan bir yoki bir nechta tanlash** mumkin.

### Haydovchilik devori

{% hint style="danger" %}
Standart ravishda **qo'qlar HAYDOVCHILIK DEVORI BO'LMADAN yaratiladi** (AWS yoki GCP kabi boshqa bulutlarda emas). Shuning uchun agar siz qo'qning portlarini (VM) DO tomonidan himoya qilishni xohlaysiz, uni **yaratib ulashingiz kerak**.
{% endhint %}

Batafsil ma'lumot:

{% content-ref url="do-networking.md" %}
[do-networking.md](do-networking.md)
{% endcontent-ref %}

### Enumeratsiya
```bash
# VMs
doctl compute droplet list # IPs will appear here
doctl compute droplet backups <droplet-id>
doctl compute droplet snapshots <droplet-id>
doctl compute droplet neighbors <droplet-id> # Get network neighbors
doctl compute droplet actions <droplet-id> # Get droplet actions

# VM interesting actions
doctl compute droplet-action password-reset <droplet-id> # New password is emailed to the user
doctl compute droplet-action enable-ipv6 <droplet-id>
doctl compute droplet-action power-on <droplet-id>
doctl compute droplet-action disable-backups <droplet-id>

# SSH
doctl compute ssh <droplet-id> # This will just run SSH
doctl compute ssh-key list
doctl compute ssh-key import <key-name> --public-key-file /path/to/key.pub

# Certificates
doctl compute certificate list

# Snapshots
doctl compute snapshot list
```
{% hint style="danger" %}
**Droplets have metadata endpoints**, but in DO there **isn't IAM** or things such as role from AWS or service accounts from GCP.
{% endhint %}

### RCE

With access to the console it's possible to **get a shell inside the droplet** accessing the URL: **`https://cloud.digitalocean.com/droplets/<droplet-id>/terminal/ui/`**

It's also possible to launch a **recovery console** to run commands inside the host accessing a recovery console in **`https://cloud.digitalocean.com/droplets/<droplet-id>/console`**(but in this case you will need to know the root password).

<details>

<summary><strong>Learn AWS hacking from zero to hero with</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Other ways to support HackTricks:

* If you want to see your **company advertised in HackTricks** or **download HackTricks in PDF** Check the [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Get the [**official PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Discover [**The PEASS Family**](https://opensea.io/collection/the-peass-family), our collection of exclusive [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Share your hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
