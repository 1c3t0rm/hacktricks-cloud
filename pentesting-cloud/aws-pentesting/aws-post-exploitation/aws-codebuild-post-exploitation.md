# AWS - Mchakato wa Baada ya Uvamizi wa CodeBuild

<details>

<summary><strong>Jifunze kuhusu kuvamia AWS kutoka mwanzo hadi mtaalam wa juu na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya HackTricks AWS)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikionekana kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA USAJILI**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au [**kikundi cha telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za kuvamia kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>

## CodeBuild

Kwa habari zaidi, angalia:

{% content-ref url="../../aws-security/aws-services/aws-codebuild-enum.md" %}
[aws-codebuild-enum.md](../../aws-security/aws-services/aws-codebuild-enum.md)
{% endcontent-ref %}

### Kutumia Upatikanaji wa Repo ya CodeBuild

Ili kusanidi **CodeBuild**, itahitaji **upatikanaji wa repo ya nambari** ambayo itatumia. Majukwaa kadhaa yanaweza kuhifadhi nambari hii:

<figure><img src="../../../.gitbook/assets/image (3) (5).png" alt=""><figcaption></figcaption></figure>

**Mradi wa CodeBuild lazima uwe na upatikanaji** wa mtoa huduma wa chanzo kilichosanidiwa, au kupitia **jukumu la IAM** au na github/bitbucket **token au ufikiaji wa OAuth**.

Mvamizi mwenye **mamlaka ya juu juu ya CodeBuild** anaweza kutumia upatikanaji uliosanidiwa kuvuja kwa nambari ya repo iliyosanidiwa na nyingine ambapo seti ya siri ina upatikanaji.\
Ili kufanya hivyo, mvamizi atahitaji tu **kubadilisha URL ya hifadhi kwa kila repo ambayo siri za usanidi zina upatikanaji** (kumbuka kuwa wavuti ya aws itaorodhesha zote kwa ajili yako):

<figure><img src="../../../.gitbook/assets/image (11) (1) (2).png" alt=""><figcaption></figcaption></figure>

Na **badilisha amri za Buildspec ili kuvuja kila repo**.

{% hint style="warning" %}
Walakini, **kazi hii ni ya kurudia na yenye kuchosha** na ikiwa token wa github ulisanidiwa na **ruhusa za kuandika**, mvamizi **hataweza kutumia (ku)abusi ruhusa hizo** kwa sababu hana upatikanaji wa token.\
Au ana? Angalia sehemu inayofuata
{% endhint %}

### Kuvuja Kwa Vitambulisho vya Upatikanaji kutoka AWS CodeBuild

Unaweza kuvuja upatikanaji uliotolewa katika CodeBuild kwa majukwaa kama Github. Angalia ikiwa kuna upatikanaji wowote kwa majukwaa ya nje uliotolewa na:
```bash
aws codebuild list-source-credentials
```
{% content-ref url="aws-codebuild-post-exploitation/aws-codebuild-token-leakage.md" %}
[aws-codebuild-token-leakage.md](aws-codebuild-post-exploitation/aws-codebuild-token-leakage.md)
{% endcontent-ref %}

### `codebuild:DeleteProject`

Mshambuliaji anaweza kufuta mradi wa CodeBuild mzima, kusababisha upotevu wa usanidi wa mradi na kuathiri maombi yanayotegemea mradi huo.
```bash
aws codebuild delete-project --name <value>
```
**Athari Inayoweza Kutokea**: Upotevu wa usanidi wa mradi na kuvuruga huduma kwa maombi yanayotumia mradi uliofutwa.

### `codebuild:TagResource`, `codebuild:UntagResource`

Mshambuliaji anaweza kuongeza, kuhariri, au kuondoa vitambulisho kutoka kwa rasilimali za CodeBuild, kuvuruga sera za kugawanya gharama, ufuatiliaji wa rasilimali, na sera za kudhibiti upatikanaji kulingana na vitambulisho.
```bash
aws codebuild tag-resource --resource-arn <value> --tags <value>
aws codebuild untag-resource --resource-arn <value> --tag-keys <value>
```
**Athari Inayowezekana**: Kuvuruga ugawaji wa gharama, ufuatiliaji wa rasilimali, na sera za kudhibiti upatikanaji kulingana na lebo.

### `codebuild:DeleteSourceCredentials`

Mshambuliaji anaweza kufuta sifa za chanzo kwa hazina ya Git, ikileta athari kwa utendaji wa kawaida wa programu zinazotegemea hazina hiyo.
```sql
aws codebuild delete-source-credentials --arn <value>
```
**Athari Inayowezekana**: Kuvuruga kazi ya kawaida kwa maombi yanayotegemea hazina iliyoharibiwa kutokana na kuondolewa kwa vibali vya chanzo.

<details>

<summary><strong>Jifunze kuhusu udukuzi wa AWS kutoka sifuri hadi shujaa na</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (Mtaalam wa Timu Nyekundu ya HackTricks AWS)</strong></a><strong>!</strong></summary>

Njia nyingine za kusaidia HackTricks:

* Ikiwa unataka kuona **kampuni yako ikionekana kwenye HackTricks** au **kupakua HackTricks kwa PDF** Angalia [**MIPANGO YA KUJIUNGA**](https://github.com/sponsors/carlospolop)!
* Pata [**bidhaa rasmi za PEASS & HackTricks**](https://peass.creator-spring.com)
* Gundua [**Familia ya PEASS**](https://opensea.io/collection/the-peass-family), mkusanyiko wetu wa [**NFTs**](https://opensea.io/collection/the-peass-family) ya kipekee
* **Jiunge na** üí¨ [**Kikundi cha Discord**](https://discord.gg/hRep4RUj7f) au kikundi cha [**telegram**](https://t.me/peass) au **tufuate** kwenye **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Shiriki mbinu zako za udukuzi kwa kuwasilisha PRs kwa** [**HackTricks**](https://github.com/carlospolop/hacktricks) na [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) repos za github.

</details>
