# AWS - Volharding

---

## Inleiding

In dit gedeelte zullen we ons richten op het verkrijgen van volharding in AWS-omgevingen. Volharding verwijst naar het vermogen om toegang te behouden tot een systeem, zelfs nadat de initiÃ«le toegang is verkregen. Dit is een belangrijk aspect van het pentesten van AWS, omdat het ons in staat stelt om langdurige toegang te behouden en verder te verkennen.

## S3 Bucket

Een veelvoorkomende manier om volharding te bereiken in AWS is door het gebruik van S3-buckets. S3-buckets zijn opslagcontainers die worden gebruikt om bestanden en gegevens in AWS op te slaan. Door een backdoor-script of een kwaadaardig bestand in een S3-bucket te plaatsen, kunnen we volharding bereiken. Dit komt doordat S3-buckets vaak worden gebruikt om statische websites te hosten, waardoor het mogelijk is om code-injectie of andere aanvallen uit te voeren.

Om volharding te bereiken met behulp van S3-buckets, kunnen we de volgende stappen volgen:

1. Identificeer een S3-bucket die wordt gebruikt om een website te hosten.
2. Zoek naar kwetsbaarheden in de website of de applicatie die op de website wordt gehost.
3. Plaats een backdoor-script of een kwaadaardig bestand in de S3-bucket.
4. Exploiteer de kwetsbaarheid om de backdoor te activeren en toegang te behouden.

## EC2 Instance

Een andere manier om volharding te bereiken in AWS is door het compromitteren van een EC2-instantie. EC2-instanties zijn virtuele machines die worden gebruikt om applicaties en services in AWS uit te voeren. Door toegang te krijgen tot een EC2-instantie, kunnen we volharding bereiken door backdoors te installeren of andere aanvallen uit te voeren.

Om volharding te bereiken met behulp van EC2-instanties, kunnen we de volgende stappen volgen:

1. Identificeer een kwetsbare EC2-instantie.
2. Zoek naar kwetsbaarheden in de applicaties of services die op de instantie worden uitgevoerd.
3. Exploiteer de kwetsbaarheid om toegang te krijgen tot de instantie.
4. Installeer backdoors of voer andere aanvallen uit om volharding te bereiken.

## RDS Instance

Een derde manier om volharding te bereiken in AWS is door het compromitteren van een RDS-instantie. RDS-instanties zijn relationele databases die worden gebruikt om gegevens op te slaan en te beheren in AWS. Door toegang te krijgen tot een RDS-instantie, kunnen we volharding bereiken door backdoors te installeren of andere aanvallen uit te voeren.

Om volharding te bereiken met behulp van RDS-instanties, kunnen we de volgende stappen volgen:

1. Identificeer een kwetsbare RDS-instantie.
2. Zoek naar kwetsbaarheden in de database of de applicaties die de database gebruiken.
3. Exploiteer de kwetsbaarheid om toegang te krijgen tot de instantie.
4. Installeer backdoors of voer andere aanvallen uit om volharding te bereiken.

---

*Voor meer gedetailleerde informatie en technieken, raadpleeg de originele bronbestanden in de [hacktricks-cloud](https://github.com/carlospolop/hacktricks/tree/master/pentesting/cloud/aws-pentesting/aws-persistence) repository.*
