# AWS - Μόνιμη Αποθήκευση Cognito

<details>

<summary><strong>Μάθετε το hacking του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**την Οικογένεια PEASS**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στη** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στη [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα κόλπα σας για το hacking υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>

## Cognito

Για περισσότερες πληροφορίες, αποκτήστε πρόσβαση:

{% content-ref url="../../aws-security/aws-services/aws-cognito-enum/" %}
[aws-cognito-enum](../../aws-security/aws-services/aws-cognito-enum/)
{% endcontent-ref %}

### Μόνιμη αποθήκευση χρήστη

Το Cognito είναι ένα υπηρεσία που επιτρέπει την ανάθεση ρόλων σε μη εξουσιοδοτημένους και εξουσιοδοτημένους χρήστες και τον έλεγχο ενός καταλόγου χρηστών. Μπορούν να τροποποιηθούν αρκετές διαφορετικές ρυθμίσεις για τη διατήρηση κάποιας μόνιμης αποθήκευσης, όπως:

* **Προσθήκη ενός User Pool** που ελέγχεται από τον χρήστη σε ένα Identity Pool
* Δώστε έναν **ρόλο IAM σε ένα μη εξουσιοδοτημένο Identity Pool και επιτρέψτε τη ροή βασικής πιστοποίησης**
* Ή σε ένα **εξουσιοδοτημένο Identity Pool** εάν ο επιτιθέμενος μπορεί να συνδεθεί
* Ή **βελτιώστε τις άδειες** των δοθέντων ρόλων
* **Δημιουργία, επαλήθευση και ανέβασμα δικαιωμάτων** μέσω ελεγχόμενων χρηστών ή νέων χρηστών σε ένα User Pool
* **Επιτροπή εξωτερικών Παρόχων Ταυτότητας** για σύνδεση σε ένα User Pool ή σε ένα Identity Pool

Ελέγξτε πώς να κάνετε αυτές τις ενέργειες στο

{% content-ref url="../../aws-security/aws-privilege-escalation/aws-cognito-privesc.md" %}
[aws-cognito-privesc.md](../../aws-security/aws-privilege-escalation/aws-cognito-privesc.md)
{% endcontent-ref %}

### `cognito-idp:SetRiskConfiguration`

Ένας επιτιθέμενος με αυτό το προνόμιο μπορεί να τροποποιήσει τη διαμόρφωση κινδύνου για να μπορεί να συνδεθεί ως χρήστης Cognito **χωρίς να ενεργοποιούνται συναγερμοί**. [**Ελέγξτε το cli**](https://docs.aws.amazon.com/cli/latest/reference/cognito-idp/set-risk-configuration.html) για να ελέγξετε όλες τις επιλογές:

{% code overflow="wrap" %}
```bash
aws cognito-idp set-risk-configuration --user-pool-id <pool-id> --compromised-credentials-risk-configuration EventFilter=SIGN_UP,Actions={EventAction=NO_ACTION}
```
{% endcode %}

Από προεπιλογή αυτό είναι απενεργοποιημένο:

<figure><img src="https://lh6.googleusercontent.com/EOiM0EVuEgZDfW3rOJHLQjd09-KmvraCMssjZYpY9sVha6NcxwUjStrLbZxAT3D3j9y08kd5oobvW8a2fLUVROyhkHaB1OPhd7X6gJW3AEQtlZM62q41uYJjTY1EJ0iQg6Orr1O7yZ798EpIJ87og4Tbzw=s2048" alt=""><figcaption></figcaption></figure>

<details>

<summary><strong>Μάθετε το hacking του AWS από το μηδέν μέχρι τον ήρωα με το</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Άλλοι τρόποι για να υποστηρίξετε το HackTricks:

* Εάν θέλετε να δείτε την **εταιρεία σας να διαφημίζεται στο HackTricks** ή να **κατεβάσετε το HackTricks σε μορφή PDF** ελέγξτε τα [**ΣΧΕΔΙΑ ΣΥΝΔΡΟΜΗΣ**](https://github.com/sponsors/carlospolop)!
* Αποκτήστε το [**επίσημο PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ανακαλύψτε [**The PEASS Family**](https://opensea.io/collection/the-peass-family), τη συλλογή μας από αποκλειστικά [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Εγγραφείτε στην** 💬 [**ομάδα Discord**](https://discord.gg/hRep4RUj7f) ή στην [**ομάδα telegram**](https://t.me/peass) ή **ακολουθήστε** μας στο **Twitter** 🐦 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Μοιραστείτε τα κόλπα σας για το hacking υποβάλλοντας PRs στα** [**HackTricks**](https://github.com/carlospolop/hacktricks) και [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) αποθετήρια του github.

</details>
