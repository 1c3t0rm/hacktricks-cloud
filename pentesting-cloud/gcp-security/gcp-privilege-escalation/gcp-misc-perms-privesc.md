# GCP - Generic Permissions Privesc

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}

## Generic Interesting Permissions

### \*.setIamPolicy

Î‘Î½ Î­Ï‡ÎµÏ„Îµ Î­Î½Î±Î½ Ï‡ÏÎ®ÏƒÏ„Î· Ï€Î¿Ï… Î­Ï‡ÎµÎ¹ Ï„Î·Î½ Î¬Î´ÎµÎ¹Î± **`setIamPolicy`** ÏƒÎµ Î­Î½Î±Î½ Ï€ÏŒÏÎ¿, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± **Î±Î½ÎµÎ²Î¬ÏƒÎµÏ„Îµ Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î± ÏƒÎµ Î±Ï…Ï„ÏŒÎ½ Ï„Î¿Î½ Ï€ÏŒÏÎ¿** ÎµÏ€ÎµÎ¹Î´Î® Î¸Î± Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Î±Î»Î»Î¬Î¾ÎµÏ„Îµ Ï„Î·Î½ Ï€Î¿Î»Î¹Ï„Î¹ÎºÎ® IAM Î±Ï…Ï„Î¿Ï Ï„Î¿Ï… Ï€ÏŒÏÎ¿Ï… ÎºÎ±Î¹ Î½Î± ÏƒÎ±Ï‚ Î´ÏÏƒÎµÏ„Îµ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ± Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î± Ï€Î¬Î½Ï‰ Ï„Î¿Ï….\
Î‘Ï…Ï„Î® Î· Î¬Î´ÎµÎ¹Î± Î¼Ï€Î¿ÏÎµÎ¯ ÎµÏ€Î¯ÏƒÎ·Ï‚ Î½Î± ÎµÏ€Î¹Ï„ÏÎ­ÏˆÎµÎ¹ Î½Î± **Î±Î½ÎµÎ²ÎµÎ¯Ï„Îµ ÏƒÎµ Î¬Î»Î»Î¿Ï…Ï‚ Ï†Î¿ÏÎµÎ¯Ï‚** Î±Î½ Î¿ Ï€ÏŒÏÎ¿Ï‚ ÎµÏ€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ Ï„Î·Î½ ÎµÎºÏ„Î­Î»ÎµÏƒÎ· ÎºÏÎ´Î¹ÎºÎ± ÎºÎ±Î¹ Î· iam.ServiceAccounts.actAs Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ Î±Ï€Î±ÏÎ±Î¯Ï„Î·Ï„Î·.

* _cloudfunctions.functions.setIamPolicy_
* Î¤ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÏ„Îµ Ï„Î·Î½ Ï€Î¿Î»Î¹Ï„Î¹ÎºÎ® Î¼Î¹Î±Ï‚ Cloud Function Î³Î¹Î± Î½Î± ÎµÏ€Î¹Ï„ÏÎ­ÏˆÎµÏ„Îµ ÏƒÏ„Î¿Î½ ÎµÎ±Ï…Ï„ÏŒ ÏƒÎ±Ï‚ Î½Î± Ï„Î·Î½ ÎºÎ±Î»Î­ÏƒÎµÎ¹.

Î¥Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î´ÎµÎºÎ¬Î´ÎµÏ‚ Ï„ÏÏ€Î¿Î¹ Ï€ÏŒÏÏ‰Î½ Î¼Îµ Î±Ï…Ï„ÏŒ Ï„Î¿ ÎµÎ¯Î´Î¿Ï‚ Î¬Î´ÎµÎ¹Î±Ï‚, Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± Ï„Î¿Ï…Ï‚ Î²ÏÎµÎ¯Ï„Îµ ÏŒÎ»Î¿Ï…Ï‚ ÏƒÏ„Î¿ [https://cloud.google.com/iam/docs/permissions-reference](https://cloud.google.com/iam/docs/permissions-reference) Î±Î½Î±Î¶Î·Ï„ÏÎ½Ï„Î±Ï‚ Ï„Î¿ setIamPolicy.

### \*.create, \*.update

Î‘Ï…Ï„Î­Ï‚ Î¿Î¹ Î¬Î´ÎµÎ¹ÎµÏ‚ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎµÎ¯Î½Î±Î¹ Ï€Î¿Î»Ï Ï‡ÏÎ®ÏƒÎ¹Î¼ÎµÏ‚ Î³Î¹Î± Î½Î± Ï€ÏÎ¿ÏƒÏ€Î±Î¸Î®ÏƒÎµÏ„Îµ Î½Î± Î±Î½ÎµÎ²Î¬ÏƒÎµÏ„Îµ Ï€ÏÎ¿Î½ÏŒÎ¼Î¹Î± ÏƒÎµ Ï€ÏŒÏÎ¿Ï…Ï‚ Î´Î·Î¼Î¹Î¿Ï…ÏÎ³ÏÎ½Ï„Î±Ï‚ **Î­Î½Î±Î½ Î½Î­Î¿ Î® ÎµÎ½Î·Î¼ÎµÏÏÎ½Î¿Î½Ï„Î±Ï‚ Î­Î½Î±Î½ Ï…Ï€Î¬ÏÏ‡Î¿Î½Ï„Î±**. Î‘Ï…Ï„Î­Ï‚ Î¿Î¹ Î¬Î´ÎµÎ¹ÎµÏ‚ ÎµÎ¯Î½Î±Î¹ Î¹Î´Î¹Î±Î¯Ï„ÎµÏÎ± Ï‡ÏÎ®ÏƒÎ¹Î¼ÎµÏ‚ Î±Î½ Î­Ï‡ÎµÏ„Îµ ÎµÏ€Î¯ÏƒÎ·Ï‚ Ï„Î·Î½ Î¬Î´ÎµÎ¹Î± **iam.serviceAccounts.actAs** ÏƒÎµ Î­Î½Î±Î½ Service Account ÎºÎ±Î¹ Î¿ Ï€ÏŒÏÎ¿Ï‚ Ï€Î¿Ï… Î­Ï‡ÎµÏ„Îµ .create/.update Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÏƒÏ…Î½Î´Î­ÏƒÎµÎ¹ Î­Î½Î±Î½ service account.

### \*ServiceAccount\*

Î‘Ï…Ï„Î® Î· Î¬Î´ÎµÎ¹Î± ÏƒÏ…Î½Î®Î¸Ï‰Ï‚ Î¸Î± ÏƒÎ±Ï‚ ÎµÏ€Î¹Ï„ÏÎ­Ï€ÎµÎ¹ Î½Î± **Î­Ï‡ÎµÏ„Îµ Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· Î® Î½Î± Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹Î®ÏƒÎµÏ„Îµ Î­Î½Î±Î½ Service Account ÏƒÎµ ÎºÎ¬Ï€Î¿Î¹Î¿Î½ Ï€ÏŒÏÎ¿** (Ï€.Ï‡.: compute.instances.setServiceAccount). Î‘Ï…Ï„ÏŒ **Î¸Î± Î¼Ï€Î¿ÏÎ¿ÏÏƒÎµ Î½Î± Î¿Î´Î·Î³Î®ÏƒÎµÎ¹ ÏƒÎµ Î­Î½Î±Î½ Ï†Î¿ÏÎ­Î± Î±Î½ÏŒÎ´Î¿Ï… Ï€ÏÎ¿Î½Î¿Î¼Î¯Ï‰Î½**, Î±Î»Î»Î¬ Î¸Î± ÎµÎ¾Î±ÏÏ„Î·Î¸ÎµÎ¯ Î±Ï€ÏŒ Ï„Î·Î½ ÎºÎ¬Î¸Îµ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ·.

{% hint style="success" %}
Learn & practice AWS Hacking:<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">[**HackTricks Training AWS Red Team Expert (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../../../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">\
Learn & practice GCP Hacking: <img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">[**HackTricks Training GCP Red Team Expert (GRTE)**<img src="../../../.gitbook/assets/image (2) (1).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>Support HackTricks</summary>

* Check the [**subscription plans**](https://github.com/sponsors/carlospolop)!
* **Join the** ğŸ’¬ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **Share hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
{% endhint %}
