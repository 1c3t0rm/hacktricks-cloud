# GCP - Nach der Kompromittierung

## Cloud Metadata Service

Der Cloud-Metadatendienst kann sensible Informationen wie Anmeldeinformationen, Berechtigungen und andere Metadaten enthalten. Überprüfen Sie den Dienst, um potenziell nützliche Informationen zu sammeln.

### Abrufen von Metadaten

Sie können die Metadaten des Cloud-Dienstes mithilfe von `http://metadata.google.internal/computeMetadata/v1/` abrufen. Verwenden Sie die Header `Metadata-Flavor: Google`, um auf die Metadaten zuzugreifen.

```bash
curl -H "Metadata-Flavor: Google" http://metadata.google.internal/computeMetadata/v1/
```

### Abrufen von Instanzinformationen

Sie können Informationen zur Instanz wie Zone, Name, ID usw. abrufen.

```bash
curl -H "Metadata-Flavor: Google" http://metadata.google.internal/computeMetadata/v1/instance/
```

### Abrufen von Projektdetails

Projektdetails wie Projekt-ID, Name und Nummer können ebenfalls abgerufen werden.

```bash
curl -H "Metadata-Flavor: Google" http://metadata.google.internal/computeMetadata/v1/project/
```

## Weitere Angriffspunkte

- Überprüfen Sie die Berechtigungen der Dienstkonten, um auf andere Dienste zuzugreifen.
- Suchen Sie nach ungeschützten Schlüsseln, Zertifikaten oder anderen sensiblen Informationen.
- Überprüfen Sie die Konfiguration von Diensten wie Cloud Storage, Cloud SQL usw. auf mögliche Schwachstellen.
