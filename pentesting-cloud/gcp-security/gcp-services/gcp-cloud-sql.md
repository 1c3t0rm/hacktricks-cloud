# GCP - Cloud SQL

<details>

<summary><strong>通过</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>从零开始学习AWS黑客攻击！</strong></summary>

支持HackTricks的其他方式：

* 如果您想在**HackTricks中看到您的公司广告**或**下载HackTricks的PDF**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方PEASS & HackTricks商品**](https://peass.creator-spring.com)
* 发现[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们独家的[**NFTs系列**](https://opensea.io/collection/the-peass-family)
* **加入** 💬 [**Discord群组**](https://discord.gg/hRep4RUj7f) 或 [**telegram群组**](https://t.me/peass) 或在 **Twitter** 🐦 上**关注**我 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过提交PR到** [**HackTricks**](https://github.com/carlospolop/hacktricks) 和 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库来分享您的黑客技巧。

</details>

## 基本信息

Google Cloud SQL是一个**全托管的数据库服务**，它可以轻松地在Google Cloud Platform上设置、维护、管理和管理您的**关系型数据库**。它提供了一种使用熟悉的SQL数据库（**MySQL、PostgreSQL和SQL Server**）的方法，而无需处理常规的操作任务，如硬件配置、数据库设置、补丁或备份。

Google Cloud SQL的关键特性包括：

1. **全托管**：Google Cloud SQL是一个全托管服务，意味着Google处理数据库维护任务，如打补丁、更新、备份和配置。
2. **可扩展性**：它提供了扩展数据库存储容量和计算资源的能力，通常不会有停机时间。
3. **高可用性**：提供高可用性配置，确保您的数据库服务可靠，并能够承受区域或实例故障。
4. **安全性**：提供强大的安全功能，如数据加密、身份和访问管理（IAM）控制，以及使用私有IP和VPC的网络隔离。
5. **备份和恢复**：支持自动备份和时间点恢复，帮助您保护和恢复数据。
6. **集成**：与其他Google Cloud服务无缝集成，为构建、部署和管理应用程序提供全面的解决方案。
7. **性能**：提供性能指标和诊断工具，以监控、排除故障和提高数据库性能。

### 密码

在Web控制台Cloud SQL允许用户**设置**数据库的**密码**，还有一个生成功能，但最重要的是，**MySQL**允许**留空密码，并且所有数据库都允许将密码设置为字符"a"：**

<figure><img src="../../../.gitbook/assets/image.png" alt=""><figcaption></figcaption></figure>

还可以配置密码策略，要求**长度**、**复杂性**、**禁用重用**和**禁用在密码中使用用户名**。默认情况下，所有这些都是禁用的。

**SQL Server**可以配置为使用**Active Directory认证**。

### 区域可用性

数据库可以**在一个区域或多个区域中可用**，当然，建议将重要数据库放在多个区域中。

### 加密

默认情况下使用Google管理的加密密钥，但也**可以选择使用客户管理的加密密钥（CMEK）**。

### 连接

* **私有IP**：指定VPC网络，数据库将在网络内获得一个私有IP
* **公共IP**：数据库将获得一个公共IP，但默认情况下没有人能够连接
* **授权网络**：指定应该被允许连接到数据库的公共**IP范围**
* **私有路径**：如果数据库连接到某个VPC，可以启用此选项，并允许**其他GCP服务如BigQuery通过它访问**

<figure><img src="../../../.gitbook/assets/image (1).png" alt=""><figcaption></figcaption></figure>

### 数据保护

* **每日备份**：执行自动每日备份，并指定您想要保留的备份数量。
* **时间点恢复**：允许您从特定时间点恢复数据，精确到几分之一秒。
* **删除保护**：如果启用，DB将无法被删除，直到此功能被禁用

<details>

<summary><strong>通过</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>从零开始学习AWS黑客攻击！</strong></summary>

支持HackTricks的其他方式：

* 如果您想在**HackTricks中看到您的公司广告**或**下载HackTricks的PDF**，请查看[**订阅计划**](https://github.com/sponsors/carlospolop)！
* 获取[**官方PEASS & HackTricks商品**](https://peass.creator-spring.com)
* 发现[**PEASS家族**](https://opensea.io/collection/the-peass-family)，我们独家的[**NFTs系列**](https://opensea.io/collection/the-peass-family)
* **加入** 💬 [**Discord群组**](https://discord.gg/hRep4RUj7f) 或 [**telegram群组**](https://t.me/peass) 或在 **Twitter** 🐦 上**关注**我 [**@carlospolopm**](https://twitter.com/carlospolopm)**。**
* **通过提交PR到** [**HackTricks**](https://github.com/carlospolop/hacktricks) 和 [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github仓库来分享您的黑客技巧。

</details>
