# GCP - Güvenlik

<details>

<summary><strong>Sıfırdan kahraman olmaya kadar AWS hackleme öğrenin</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Kırmızı Takım Uzmanı)</strong></a><strong> ile!</strong></summary>

HackTricks'ı desteklemenin diğer yolları:

* **Şirketinizi HackTricks'te reklamınızı görmek istiyorsanız** veya **HackTricks'i PDF olarak indirmek istiyorsanız** [**ABONELİK PLANLARI**]'na (https://github.com/sponsors/carlospolop) göz atın!
* [**Resmi PEASS & HackTricks ürünleri**](https://peass.creator-spring.com) edinin
* [**PEASS Ailesi**]'ni (https://opensea.io/collection/the-peass-family) keşfedin, özel [**NFT'lerimiz**]'i (https://opensea.io/collection/the-peass-family) içeren koleksiyonumuzu
* **💬 [Discord grubuna](https://discord.gg/hRep4RUj7f) katılın veya [telegram grubuna](https://t.me/peass) katılın veya bizi Twitter'da** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)** takip edin.**
* **Hacking püf noktalarınızı göndererek HackTricks** (https://github.com/carlospolop/hacktricks) ve [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github depolarına PR'lar göndererek paylaşın.

</details>

## Temel Bilgiler

Google Cloud Platform (GCP) Güvenliği, Google Cloud ortamındaki kaynakların ve verilerin güvenliğini sağlamak üzere tasarlanmış kapsamlı bir araç ve uygulamalar paketini içerir ve dört ana bölüme ayrılır: **Güvenlik Komuta Merkezi, Algılama ve Kontroller, Veri Koruma ve Sıfır Güven.**

## **Güvenlik Komuta Merkezi**

Google Cloud Platform (GCP) Güvenlik Komuta Merkezi (SCC), organizasyonlara bulut varlıklarına görünürlük kazanma ve kontrol sağlama imkanı tanıyan bir **güvenlik ve risk yönetimi aracıdır**. Kapsamlı güvenlik analitiği sunarak **tehditleri tespit etmeye ve yanıtlamaya** yardımcı olur, **yanlış yapılandırmaları tanımlar**, güvenlik standartlarına **uygunluğu sağlar** ve otomatik tehdit tespiti ve yanıtı için diğer güvenlik araçlarıyla **entegre olur**.

* **Genel Bakış**: Güvenlik Komuta Merkezi sonuçlarının genel bir **görünümünü görselleştirmek** için panel.
* Tehditler: \[Premium Gerekli] **Tespit edilen tehditleri görselleştirmek** için panel. Tehditler hakkında daha fazla bilgi için aşağıya bakın
* **Zaafiyetler**: GCP hesabındaki **bulunan yanlış yapılandırmaları görselleştirmek** için panel.
* **Uyumluluk**: \[Premium gereklidir] Bu bölüm, organizasyon üzerinde **çeşitli uyumluluk kontrollerine karşı GCP ortamınızı test etmenize** olanak tanır (örneğin PCI-DSS, NIST 800-53, CIS benchmarks...).
* **Varlıklar**: Bu bölüm, kullanılan tüm varlıkları gösterir, tek bir sayfada çalışanları (ve belki saldırganları) görmek için çok kullanışlıdır.
* **Buluntular**: Bu, GCP Güvenlik'in farklı bölümlerinden (sadece Komuta Merkezi değil) farklı buluntuları **kolayca görselleştirmek** için buluntuları bir tabloda **birleştirir**.
* **Kaynaklar**: GCP güvenliğinin tüm farklı bölümlerinden **buluntuların bir özetini gösterir**.
* **Durum**: \[Premium Gerekli] Güvenlik Durumu, GCP ortamının güvenliğini **tanımlamaya, değerlendirmeye ve izlemeye** olanak tanır. GCP'deki kaynakları kontrol/izleyen kısıtlamaları veya kısıtlamaları tanımlayan politika oluşturarak çalışır. [https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy](https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy) adresinde bulunan çeşitli önceden tanımlanmış durum şablonları bulunmaktadır.

### **Tehditler**

Bir saldırganın bakış açısından, bu muhtemelen **saldırganı tespit edebileceği için en ilginç özelliktir**. Ancak, bu özelliğin **Premium** gerektirdiğini (yani şirketin daha fazla ödeme yapması gerekeceği anlamına geldiğini) unutmayın, bu yüzden **belki bile etkinleştirilmemiş olabilir**.&#x20;

3 tür tehdit tespit mekanizması vardır:

* **Olay Tehditleri**: Google tarafından içsel olarak oluşturulan kurallara dayalı olarak **Cloud Logging** olayları eşleştiren buluntular. Ayrıca **Google Workspace günlüklerini** tarayabilir.
* Tüm [**tespit kurallarının açıklamasını belgelerde bulabilirsiniz**](https://cloud.google.com/security-command-center/docs/concepts-event-threat-detection-overview?authuser=2#how\_works)
* **Kapsayıcı Tehditleri**: Kapsayıcı çekirdeğinin düşük seviyedeki davranışlarını analiz ettikten sonra üretilen buluntular.
* **Özel Tehditler**: Şirket tarafından oluşturulan kurallar.

Her iki türün tespit edilen tehditlere önerilen yanıtlarını [https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response](https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response) adresinde bulabilirsiniz.

### Numaralandırma

{% code overflow="wrap" %}
```bash
# Get a source
gcloud scc sources describe <org-number> --source=5678
## If the response is that the service is disabled or that the source is not found, then, it isn't enabled

# Get notifications
gcloud scc notifications list <org-number>

# Get findings (if not premium these are just vulnerabilities)
gcloud scc findings list <org-number>
```
## Algı ve Kontroller

* **Chronicle SecOps**: Ekiplerin tehdit algılama, araştırma ve yanıt verme hızını ve etkisini artırmaya yönelik tasarlanmış gelişmiş bir güvenlik operasyonları paketi.
* **reCAPTCHA Enterprise**: İnsan kullanıcılar ile botları ayırt ederek web sitelerini kazıma, kimlik avı ve otomatik saldırı gibi sahtekarlık faaliyetlerinden koruyan bir hizmet.
* **Web Güvenlik Tarayıcısı**: Google Cloud'da veya başka bir web hizmetinde barındırılan web uygulamalarındaki güvenlik açıklarını ve yaygın güvenlik sorunlarını tespit eden otomatik güvenlik tarama aracı.
* **Risk Yöneticisi**: Kuruluşların Google Cloud risk durumunu değerlendirmelerine, belgelemelerine ve anlamalarına yardımcı olan bir yönetişim, risk ve uyumluluk (GRC) aracı.
* **Binary Onaylama**: Konteynerler için bir güvenlik kontrolüdür ve yalnızca kuruluş tarafından belirlenen politikalara göre güvenilir konteyner görüntülerinin Kubernetes Engine kümelerine dağıtılmasını sağlar.
* **Danışman Bildirimleri**: Kaynakları güvende tutmak için potansiyel güvenlik sorunları, zayıflıklar ve önerilen eylemler hakkında uyarılar ve danışmanlar sağlayan bir hizmet.
* **Erişim Onayı**: Google çalışanlarının veri veya yapılandırmalarına erişmeden önce açık onay gerektiren bir özellik, ek bir kontrol ve denetlenebilirlik katmanı sağlar.
* **Yönetilen Microsoft AD**: Google Cloud'da mevcut Microsoft AD'ye bağımlı uygulamaları ve iş yüklerini kullanma imkanı sunan yönetilen Microsoft Active Directory (AD) hizmeti.

## Veri Koruma

* **Hassas Veri Koruma**: Kişisel bilgiler veya fikri mülkiyet gibi hassas verileri yetkisiz erişime veya maruz kalma karşı korumayı amaçlayan araçlar ve uygulamalar.
* **Veri Kaybı Önleme (DLP)**: Kullanımdaki, hareket halindeki ve dinlenen verileri tanımlamak, izlemek ve korumak için derin içerik incelemesi ve kapsamlı bir veri koruma kuralları seti uygulayarak kullanılan araçlar ve süreçler.
* **Sertifika Yetkilisi Hizmeti**: İç ve dış hizmetler için SSL/TLS sertifikalarının yönetimini, dağıtımını ve yenilenmesini basitleştiren ve otomatikleştiren ölçeklenebilir ve güvenli bir hizmet.
* **Anahtar Yönetimi**: Uygulamalarınız için kriptografik anahtarları yönetmenizi sağlayan bulut tabanlı bir hizmet, şifreleme anahtarlarının oluşturulması, içe aktarılması, döndürülmesi, kullanılması ve imha edilmesini içerir. Daha fazla bilgi için:

{% content-ref url="gcp-kms-enum.md" %}
[gcp-kms-enum.md](gcp-kms-enum.md)
{% endcontent-ref %}

* **Sertifika Yöneticisi**: Web hizmetlerinize ve uygulamalarınıza güvenli ve şifreli bağlantılar sağlayarak SSL/TLS sertifikalarını yöneten bir hizmet.
* **Gizli Yönetici**: API anahtarları, şifreler, sertifikalar ve diğer hassas veriler için güvenli ve kullanışlı bir depolama sistemidir; bu sistem, bu sırlara uygulamalarda kolay ve güvenli erişim ve yönetim imkanı sağlar. Daha fazla bilgi için:

{% content-ref url="../../gcp-pentesting/gcp-services/gcp-secrets-manager-enum.md" %}
[gcp-secrets-manager-enum.md](../../gcp-pentesting/gcp-services/gcp-secrets-manager-enum.md)
{% endcontent-ref %}

## Sıfır Güven

* **BeyondCorp Enterprise**: Geleneksel bir VPN'ye gerek olmadan iç uygulamalara güvenli erişim sağlayan sıfır güvenlik platformu; erişim vermeden önce kullanıcı ve cihaz güvenilirliğinin doğrulanmasına dayanır.
* **Politika Sorun Giderici**: Yöneticilerin organizasyonlarındaki erişim sorunlarını anlamalarına ve çözmelerine yardımcı olmak için tasarlanmış bir araç; bir kullanıcının belirli kaynaklara erişiminin neden olduğunu veya erişimin neden reddedildiğini belirleyerek sıfır güven politikalarının uygulanmasına yardımcı olur.
* **Kimlik Tabanlı Proxy (IAP)**: Kimlik ve isteğin bağlamına dayanarak bulut uygulamalarına ve Google Cloud'da, yerinde veya diğer bulutlarda çalışan VM'lere erişimi kontrol eden bir hizmet; isteğin geldiği ağdan bağımsız olarak çalışır.
* **VPC Hizmet Kontrolleri**: Google Cloud'un Sanal Özel Bulut (VPC) içinde barındırılan kaynaklara ve hizmetlere ek koruma katmanları sağlayan güvenlik çeperleri; veri sızıntısını önler ve ayrıntılı erişim kontrolü sağlar.
* **Erişim Bağlam Yöneticisi**: Google Cloud'un BeyondCorp Enterprise'ın bir parçası olan bu araç, kullanıcının kimliği ve isteğin bağlamı (cihaz güvenlik durumu, IP adresi vb.) temel alınarak ayrıntılı erişim kontrol politikalarını tanımlamaya ve uygulamaya yardımcı olur.
