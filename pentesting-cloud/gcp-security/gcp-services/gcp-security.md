# GCP - Sicherheit

<details>

<summary><strong>Erlernen Sie AWS-Hacking von Grund auf mit</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Andere M√∂glichkeiten, HackTricks zu unterst√ºtzen:

* Wenn Sie Ihr **Unternehmen in HackTricks beworben sehen m√∂chten** oder **HackTricks im PDF-Format herunterladen m√∂chten**, √ºberpr√ºfen Sie die [**ABONNEMENTPL√ÑNE**](https://github.com/sponsors/carlospolop)!
* Holen Sie sich das [**offizielle PEASS & HackTricks-Merchandise**](https://peass.creator-spring.com)
* Entdecken Sie [**The PEASS Family**](https://opensea.io/collection/the-peass-family), unsere Sammlung exklusiver [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Ihre Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repositories senden.

</details>

## Grundlegende Informationen

Die Sicherheit der Google Cloud Platform (GCP) umfasst eine **umfassende Suite von Tools** und Praktiken, die entwickelt wurden, um die **Sicherheit** von Ressourcen und Daten innerhalb der Google Cloud-Umgebung zu gew√§hrleisten, aufgeteilt in vier Hauptbereiche: **Security Command Center, Erkennung und Steuerung, Datenschutz und Zero Trust.**

## **Security Command Center**

Das Google Cloud Platform (GCP) Security Command Center (SCC) ist ein **Sicherheits- und Risikomanagement-Tool f√ºr GCP-Ressourcen**, das Organisationen erm√∂glicht, Einblick in ihre Cloud-Ressourcen zu gewinnen und Kontrolle dar√ºber zu erlangen. Es hilft dabei, **Bedrohungen zu erkennen und darauf zu reagieren**, indem es umfassende Sicherheitsanalysen bietet, **Fehlkonfigurationen identifiziert**, die **Einhaltung** von Sicherheitsstandards sicherstellt und sich mit anderen Sicherheitstools integriert, um eine automatisierte Bedrohungserkennung und -reaktion zu erm√∂glichen.

* **√úbersicht**: Panel zur **Visualisierung einer √úbersicht** aller Ergebnisse des Security Command Center.
* Bedrohungen: \[Premium erforderlich] Panel zur Visualisierung aller **erkannten Bedrohungen. Weitere Informationen zu Bedrohungen unten**
* **Schwachstellen**: Panel zur **Visualisierung von gefundenen Fehlkonfigurationen im GCP-Konto**.
* **Compliance**: \[Premium erforderlich] Dieser Abschnitt erm√∂glicht es, Ihre GCP-Umgebung gegen mehrere Compliance-Checks (wie PCI-DSS, NIST 800-53, CIS-Benchmarks...) in der Organisation zu testen.
* **Ressourcen**: Dieser Abschnitt **zeigt alle verwendeten Ressourcen** an, sehr n√ºtzlich f√ºr Systemadministratoren (und m√∂glicherweise Angreifer), um auf einer einzigen Seite zu sehen, was l√§uft.
* **Ergebnisse**: Dies **aggregiert** in einer **Tabelle Ergebnisse** aus verschiedenen Bereichen der GCP-Sicherheit (nicht nur Command Center), um Ergebnisse, die wichtig sind, leicht visualisieren zu k√∂nnen.
* **Quellen**: Zeigt eine **Zusammenfassung der Ergebnisse** aller verschiedenen Bereiche der GCP-Sicherheit **nach Abschnitt**.
* **Haltung**: \[Premium erforderlich] Die Sicherheitshaltung erm√∂glicht es, die Sicherheit der GCP-Umgebung zu **definieren, zu bewerten und zu √ºberwachen**. Es funktioniert, indem Richtlinien erstellt werden, die Einschr√§nkungen oder Beschr√§nkungen definieren, die die Ressourcen in GCP steuern/√ºberwachen. Es gibt mehrere vordefinierte Haltungsvorlagen, die unter [https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy](https://cloud.google.com/security-command-center/docs/security-posture-overview?authuser=2#predefined-policy) gefunden werden k√∂nnen.

### **Bedrohungen**

Aus der Perspektive eines Angreifers ist dies wahrscheinlich das **interessanteste Feature, da es den Angreifer erkennen k√∂nnte**. Beachten Sie jedoch, dass dieses Feature **Premium** erfordert (was bedeutet, dass das Unternehmen mehr bezahlen muss), sodass es **m√∂glicherweise nicht einmal aktiviert ist**.&#x20;

Es gibt 3 Arten von Bedrohungserkennungsmechanismen:

* **Ereignisbedrohungen**: Ergebnisse, die durch das Abgleichen von Ereignissen aus **Cloud Logging** basierend auf **intern von Google erstellten Regeln** erzeugt werden. Es kann auch **Google Workspace-Protokolle** scannen.
* Es ist m√∂glich, die Beschreibung aller [**Erkennungsregeln in der Dokumentation**](https://cloud.google.com/security-command-center/docs/concepts-event-threat-detection-overview?authuser=2#how\_works) zu finden.
* **Container-Bedrohungen**: Ergebnisse, die nach Analyse des Verhaltens auf niedriger Ebene des Kernels von Containern erzeugt werden.
* **Benutzerdefinierte Bedrohungen**: Von der Firma erstellte Regeln.

Es ist m√∂glich, empfohlene Reaktionen auf erkannte Bedrohungen beider Typen unter [https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response](https://cloud.google.com/security-command-center/docs/how-to-investigate-threats?authuser=2#event\_response) zu finden.

### Enumeration

{% code overflow="wrap" %}
```bash
# Get a source
gcloud scc sources describe <org-number> --source=5678
## If the response is that the service is disabled or that the source is not found, then, it isn't enabled

# Get notifications
gcloud scc notifications list <org-number>

# Get findings (if not premium these are just vulnerabilities)
gcloud scc findings list <org-number>
```
{% endcode %}

### Post Exploitation

{% content-ref url="../gcp-post-exploitation/gcp-security-post-exploitation.md" %}
[gcp-security-post-exploitation.md](../gcp-post-exploitation/gcp-security-post-exploitation.md)
{% endcontent-ref %}

## Erkennung und Kontrollen

* **Chronicle SecOps**: Eine fortschrittliche Sicherheitssuite, die Teams dabei unterst√ºtzt, die Geschwindigkeit und den Einfluss ihrer Sicherheitsoperationen zu erh√∂hen, einschlie√ülich Bedrohungserkennung, Untersuchung und Reaktion.
* **reCAPTCHA Enterprise**: Ein Dienst, der Websites vor betr√ºgerischen Aktivit√§ten wie Scraping, Credential Stuffing und automatisierten Angriffen sch√ºtzt, indem er zwischen menschlichen Benutzern und Bots unterscheidet.
* **Web Security Scanner**: Ein automatisiertes Sicherheits-Scanning-Tool, das Schwachstellen und h√§ufige Sicherheitsprobleme in Webanwendungen erkennt, die auf Google Cloud oder einem anderen Webdienst gehostet werden.
* **Risk Manager**: Ein Governance-, Risiko- und Compliance-(GRC)-Tool, das Organisationen dabei hilft, ihre Google Cloud-Risikoposition zu bewerten, zu dokumentieren und zu verstehen.
* **Binary Authorization**: Eine Sicherheitskontrolle f√ºr Container, die sicherstellt, dass nur vertrauensw√ºrdige Container-Images gem√§√ü den Richtlinien des Unternehmens auf Kubernetes Engine-Clustern bereitgestellt werden.
* **Beratungsbenachrichtigungen**: Ein Dienst, der Benachrichtigungen und Ratschl√§ge zu potenziellen Sicherheitsproblemen, Schwachstellen und empfohlenen Ma√ünahmen bereitstellt, um Ressourcen sicher zu halten.
* **Zugriffsgenehmigung**: Eine Funktion, die Organisationen erm√∂glicht, eine ausdr√ºckliche Genehmigung zu verlangen, bevor Google-Mitarbeiter auf ihre Daten oder Konfigurationen zugreifen k√∂nnen, um eine zus√§tzliche Kontroll- und √úberpr√ºfungsebene bereitzustellen.
* **Managed Microsoft AD**: Ein Service, der verwaltete Microsoft Active Directory (AD) anbietet und es Benutzern erm√∂glicht, ihre vorhandenen Microsoft AD-abh√§ngigen Apps und Workloads in Google Cloud zu nutzen.

## Datenschutz

* **Schutz sensibler Daten**: Tools und Praktiken zur Sicherung sensibler Daten, wie personenbezogene Informationen oder geistiges Eigentum, gegen unbefugten Zugriff oder Offenlegung.
* **Data Loss Prevention (DLP)**: Eine Reihe von Tools und Prozessen zur Identifizierung, √úberwachung und zum Schutz von Daten in Verwendung, in Bewegung und im Ruhezustand durch eine gr√ºndliche Inhaltspr√ºfung und die Anwendung eines umfassenden Satzes von Datenschutzregeln.
* **Zertifizierungsstellen-Dienst**: Ein skalierbarer und sicherer Dienst, der die Verwaltung, Bereitstellung und Erneuerung von SSL/TLS-Zertifikaten f√ºr interne und externe Dienste vereinfacht und automatisiert.
* **Schl√ºsselverwaltung**: Ein cloudbasierter Dienst, der es Ihnen erm√∂glicht, kryptografische Schl√ºssel f√ºr Ihre Anwendungen zu verwalten, einschlie√ülich der Erstellung, des Imports, der Rotation, Verwendung und Vernichtung von Verschl√ºsselungsschl√ºsseln. Weitere Informationen unter:

{% content-ref url="gcp-kms-enum.md" %}
[gcp-kms-enum.md](gcp-kms-enum.md)
{% endcontent-ref %}

* **Zertifikatsmanager**: Ein Dienst, der SSL/TLS-Zertifikate verwaltet und bereitstellt, um sichere und verschl√ºsselte Verbindungen zu Ihren Webdiensten und Anwendungen sicherzustellen.
* **Secret Manager**: Ein sicheres und bequemes Speichersystem f√ºr API-Schl√ºssel, Passw√∂rter, Zertifikate und andere sensible Daten, das einen einfachen und sicheren Zugriff und die Verwaltung dieser Secrets in Anwendungen erm√∂glicht. Weitere Informationen unter:

{% content-ref url="../../gcp-pentesting/gcp-services/gcp-secrets-manager-enum.md" %}
[gcp-secrets-manager-enum.md](../../gcp-pentesting/gcp-services/gcp-secrets-manager-enum.md)
{% endcontent-ref %}

## Zero Trust

* **BeyondCorp Enterprise**: Eine Zero-Trust-Sicherheitsplattform, die einen sicheren Zugriff auf interne Anwendungen ohne die Notwendigkeit eines herk√∂mmlichen VPN erm√∂glicht, indem sie auf die √úberpr√ºfung des Benutzer- und Ger√§tevertrauens vor der Gew√§hrung des Zugriffs setzt.
* **Policy Troubleshooter**: Ein Tool, das Administratoren dabei unterst√ºtzt, Zugriffsprobleme in ihrer Organisation zu verstehen und zu l√∂sen, indem es identifiziert, warum einem Benutzer der Zugriff auf bestimmte Ressourcen gew√§hrt wurde oder warum der Zugriff verweigert wurde, und somit bei der Durchsetzung von Zero-Trust-Richtlinien hilft.
* **Identity-Aware Proxy (IAP)**: Ein Dienst, der den Zugriff auf Cloud-Anwendungen und VMs, die auf Google Cloud, lokal oder in anderen Clouds ausgef√ºhrt werden, basierend auf der Identit√§t und dem Kontext der Anfrage steuert, anstatt auf dem Netzwerk, von dem die Anfrage stammt.
* **VPC Service Controls**: Sicherheitsperimeter, die zus√§tzliche Schutzebenen f√ºr Ressourcen und Dienste bieten, die in der Virtual Private Cloud (VPC) von Google Cloud gehostet werden, um Datenabfluss zu verhindern und eine granulare Zugriffskontrolle zu gew√§hrleisten.
* **Access Context Manager**: Teil von Googles BeyondCorp Enterprise, dieses Tool hilft dabei, feingranulare Zugriffssteuerungsrichtlinien basierend auf der Identit√§t eines Benutzers und dem Kontext seiner Anfrage, wie Ger√§tesicherheitsstatus, IP-Adresse und mehr, zu definieren und durchzusetzen.

<details>

<summary><strong>Erlernen Sie AWS-Hacking von Null auf Held mit</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Andere M√∂glichkeiten, HackTricks zu unterst√ºtzen:

* Wenn Sie Ihr **Unternehmen in HackTricks beworben sehen m√∂chten** oder **HackTricks im PDF-Format herunterladen m√∂chten**, √ºberpr√ºfen Sie die [**ABONNEMENTPL√ÑNE**](https://github.com/sponsors/carlospolop)!
* Holen Sie sich das [**offizielle PEASS & HackTricks-Merchandise**](https://peass.creator-spring.com)
* Entdecken Sie [**The PEASS Family**](https://opensea.io/collection/the-peass-family), unsere Sammlung exklusiver [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Treten Sie der** üí¨ [**Discord-Gruppe**](https://discord.gg/hRep4RUj7f) oder der [**Telegram-Gruppe**](https://t.me/peass) bei oder **folgen** Sie uns auf **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Teilen Sie Ihre Hacking-Tricks, indem Sie PRs an die** [**HackTricks**](https://github.com/carlospolop/hacktricks) und [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub-Repositories einreichen.

</details>
