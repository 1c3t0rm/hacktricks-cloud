# AWS - Nitro

<details>

<summary><strong>Leer AWS hakwerk vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy jou **maatskappy geadverteer wil sien in HackTricks** of **HackTricks in PDF wil aflaai** Kontroleer die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS Familie**](https://opensea.io/collection/the-peass-family), ons versameling van eksklusiewe [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord groep**](https://discord.gg/hRep4RUj7f) of die [**telegram groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel jou haktruuks deur PRs in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## Basiese Inligting

AWS Nitro is 'n stel van **innoverende tegnologie√´** wat die onderliggende platform vorm vir AWS EC2-instanies. Ingevoer deur Amazon om **sekuriteit, prestasie, en betroubaarheid te verbeter**, maak Nitro gebruik van aangepaste **hardewarekomponente en 'n ligte hipervisor**. Dit abstraheer groot dele van die tradisionele virtualiseringsfunksionaliteit na toegewyde hardeware en sagteware, **verminder die aanvalsoppervlak** en verbeter hulpbron doeltreffendheid. Deur virtualiseringsfunksies af te laai, maak Nitro dit moontlik vir EC2-instanies om **naby bare-metal prestasie** te lewer, wat dit veral voordelig maak vir hulpbron-intensiewe toepassings. Daarbenewens verseker die Nitro Security Chip spesifiek die **sekuriteit van die hardeware en firmware**, wat sy robuuste argitektuur verder versterk.

### Nitro Enclaves

**AWS Nitro Enclaves** bied 'n veilige, **ge√Øsoleerde rekenomgewing binne Amazon EC2-instanies**, spesifiek ontwerp vir die verwerking van hoogsensitiewe data. Deur gebruik te maak van die AWS Nitro-stelsel, verseker hierdie enklaves robuuste **isolering en sekuriteit**, ideaal vir **die hanteer van vertroulike inligting** soos PII of finansi√´le rekords. Hulle bied 'n minimalistiese omgewing, wat die risiko van data blootstelling aansienlik verminder. Daarbenewens ondersteun Nitro Enclaves kriptografiese attestasie, wat gebruikers in staat stel om te verifieer dat slegs gemagtigde kode loop, wat noodsaaklik is vir die handhawing van streng nakomings- en databeskermingsstandaarde.

{% hint style="danger" %}
Nitro Enclave-beelde word **van binne EC2-instanies uitgevoer** en jy kan nie vanaf die AWS-webkonsolideer sien of 'n EC2-instanie beelde in Nitro Enclave uitvoer nie.
{% endhint %}

### Nitro Enclave CLI-installering

Volg al die instruksies [**van die dokumentasie**](https://catalog.us-east-1.prod.workshops.aws/event/dashboard/en-US/workshop/1-my-first-enclave/1-1-nitro-enclaves-cli#run-connect-and-terminate-the-enclave). Nietemin, hierdie is die belangrikste:
```bash
# Install tools
sudo amazon-linux-extras install aws-nitro-enclaves-cli -y
sudo yum install aws-nitro-enclaves-cli-devel -y

# Config perms
sudo usermod -aG ne $USER
sudo usermod -aG docker $USER

# Check installation
nitro-cli --version

# Start and enable the Nitro Enclaves allocator service.
sudo systemctl start nitro-enclaves-allocator.service && sudo systemctl enable nitro-enclaves-allocator.service
```
### Nitro Enclave-afbeeldings

Die afbeeldings wat jy in Nitro Enclave kan hardloop, is gebaseer op docker-afbeeldings, sodat jy jou Nitro Enclave-afbeeldings kan skep vanaf docker-afbeeldings soos:
```bash
# You need to have the docker image accesible in your running local registry
# Or indicate the full docker image URL to access the image
nitro-cli build-enclave --docker-uri <docker-img>:<tag> --output-file nitro-img.eif
```
Soos u kan sien, gebruik die Nitro Enclave-beelde die uitbreiding **`eif`** (Enclave Image File).

Die uitset sal soortgelyk lyk aan:
```
Using the locally available Docker image...
Enclave Image successfully created.
{
"Measurements": {
"HashAlgorithm": "Sha384 { ... }",
"PCR0": "e199261541a944a93129a52a8909d29435dd89e31299b59c371158fc9ab3017d9c450b0a580a487e330b4ac691943284",
"PCR1": "bcdf05fefccaa8e55bf2c8d6dee9e79bbff31e34bf28a99aa19e6b29c37ee80b214a414b7607236edf26fcb78654e63f",
"PCR2": "2e1fca1dbb84622ec141557dfa971b4f8ea2127031b264136a20278c43d1bba6c75fea286cd4de9f00450b6a8db0e6d3"
}
}
```
Volgens [**die dokumentasie**](https://catalog.us-east-1.prod.workshops.aws/event/dashboard/en-US/workshop/1-my-first-enclave/1-1-nitro-enclaves-cli#run-connect-and-terminate-the-enclave), moet jy ten minste 4 keer die geheue toewys aan 'n enklawebeeld wat die **`eif`**-l√™er op skijf inneem, om dit te hardloop.

<details>

<summary><strong>Leer AWS-hacking vanaf nul tot held met</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Ander maniere om HackTricks te ondersteun:

* As jy wil sien dat jou **maatskappy geadverteer word in HackTricks** of **HackTricks aflaai in PDF-formaat** Kyk na die [**INSKRYWINGSPLANNE**](https://github.com/sponsors/carlospolop)!
* Kry die [**amptelike PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Ontdek [**Die PEASS-familie**](https://opensea.io/collection/the-peass-family), ons versameling eksklusiewe [**NFT's**](https://opensea.io/collection/the-peass-family)
* **Sluit aan by die** üí¨ [**Discord-groep**](https://discord.gg/hRep4RUj7f) of die [**telegram-groep**](https://t.me/peass) of **volg** ons op **Twitter** üê¶ [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Deel jou haktruuks deur PR's in te dien by die** [**HackTricks**](https://github.com/carlospolop/hacktricks) en [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github-opslag.

</details>
