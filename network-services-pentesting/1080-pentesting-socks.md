# 1080 - Pentesting Socks

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

## Osnovne informacije

**SOCKS** je protokol koji se koristi za prenos podataka između klijenta i servera preko proksi servera. Peta verzija, **SOCKS5**, dodaje opcionalnu autentifikaciju, koja omogućava samo autorizovanim korisnicima pristup serveru. Glavna funkcija mu je posredovanje TCP konekcija i prosleđivanje UDP paketa, radeći na sesijskom sloju (Sloj 5) OSI modela.

**Podrazumevani port:** 1080

## Enumeracija

### Provera autentifikacije

```bash
nmap -p 1080 <ip> --script socks-auth-info
```

#### Brute Force

#### Osnovna upotreba

Brute Force (gruba sila)

Osnovna upotreba

```bash
nmap --script socks-brute -p 1080 <ip>
```

#### Napredna upotreba

**Socks Proxy**

Socks proxy je vrsta proxy servera koja omogućava korisnicima da uspostave sigurnu vezu preko mreže. Ova vrsta proxy servera podržava različite protokole, uključujući TCP i UDP, što omogućava korisnicima da prenose različite vrste podataka.

**Dinamički Socks Proxy**

Dinamički Socks proxy je vrsta proxy servera koja omogućava korisnicima da uspostave dinamičku vezu preko mreže. Ova vrsta proxy servera omogućava korisnicima da preusmere svoj saobraćaj preko različitih IP adresa, čime se povećava sigurnost i privatnost.

**Korišćenje Socks Proxyja za skeniranje mreže**

Kada koristite Socks proxy za skeniranje mreže, možete sakriti svoj identitet i izvršiti skeniranje bez otkrivanja vaše stvarne IP adrese. Ovo je korisno za izbegavanje detekcije i zaštite vaše anonimnosti tokom skeniranja.

**Korišćenje Socks Proxyja za zaobilaženje ograničenja**

Socks proxy se takođe može koristiti za zaobilaženje ograničenja pristupa na mreži. Na primer, ako pristup određenim veb lokacijama ili uslugama nije dozvoljen iz vaše zemlje, možete koristiti Socks proxy da biste preusmerili svoj saobraćaj preko servera u drugoj zemlji i pristupili tim resursima.

**Korišćenje Socks Proxyja za zaštitu privatnosti**

Korišćenje Socks proxyja može vam pomoći da zaštitite svoju privatnost tokom surfovanja internetom. Kada koristite Socks proxy, vaša stvarna IP adresa ostaje skrivena, što otežava praćenje vaše aktivnosti na mreži.

**Korišćenje Socks Proxyja za zaštitu od napada**

Socks proxy se takođe može koristiti za zaštitu od određenih vrsta napada. Na primer, ako koristite Socks proxy koji podržava enkripciju, možete zaštititi svoj saobraćaj od prisluškivanja i hakovanja.

**Korišćenje Socks Proxyja za preusmeravanje saobraćaja**

Socks proxy se može koristiti za preusmeravanje saobraćaja sa jednog servera na drugi. Ovo je korisno kada želite da preusmerite saobraćaj sa jednog servera na drugi radi bolje raspodele opterećenja ili zaštite od napada.

```bash
nmap  --script socks-brute --script-args userdb=users.txt,passdb=rockyou.txt,unpwdb.timelimit=30m -p 1080 <ip>
```

#### Izlaz

Socks (čarape) je protokol koji omogućava korisnicima da preko mreže šalju podatke preko proxy servera. Ovaj protokol se često koristi za zaobilaženje firewalla i za anonimno surfanje internetom.

Da biste testirali sigurnost Socks servera, možete koristiti nekoliko tehnika:

1. **Provera otvorenih portova**: Skenirajte ciljni server kako biste identifikovali otvorene portove i otkrili Socks servere koji su dostupni za napad.
2. **Provera autentifikacije**: Pokušajte da se prijavite na Socks server koristeći različite kombinacije korisničkih imena i lozinki kako biste proverili da li postoji slabost u autentifikaciji.
3. **Provera ranjivosti**: Identifikujte ranjivosti u implementaciji Socks servera kako biste iskoristili moguće napade, kao što su prekoračenje bafera ili SQL ubrizgavanje.
4. **Provera konfiguracije**: Proverite konfiguraciju Socks servera kako biste identifikovali potencijalne slabosti, kao što su loše postavljene dozvole ili neispravno konfigurisane ACL liste.
5. **Provera protoka podataka**: Analizirajte protok podataka između klijenta i Socks servera kako biste identifikovali potencijalne sigurnosne propuste, kao što su slabe enkripcije ili nezaštićeni prenos podataka.

Napomena: Pre nego što izvršite bilo kakve testove na Socks serveru, uvek se uverite da imate dozvolu od vlasnika sistema. Neovlašćeni pristup ili testiranje može biti protivzakonito.

```
PORT     STATE SERVICE
1080/tcp open  socks
| socks-brute:
|   Accounts
|     patrik:12345 - Valid credentials
|   Statistics
|_    Performed 1921 guesses in 6 seconds, average tps: 320
```

## Tuneliranje i prosleđivanje porta

### Osnovna upotreba proxychains-a

Podesite proxychains da koristi socks proxy

```
nano /etc/proxychains4.conf
```

## Pentesting SOCKS

### Introduction

SOCKS (Socket Secure) is a protocol that allows a client to establish a connection through a proxy server. It is commonly used for bypassing network restrictions and anonymizing internet traffic. In this section, we will explore various techniques for pentesting SOCKS.

### ProxyChains

ProxyChains is a tool that allows you to run any program through a proxy server. It supports multiple proxy types, including SOCKS. By using ProxyChains, you can redirect your network traffic through a SOCKS proxy and analyze the communication between the client and the server.

To use ProxyChains, you need to configure the proxy settings in the `proxychains.conf` file. You can specify the proxy type, IP address, port, and other parameters. Once the configuration is set, you can run any command with the `proxychains` prefix to route the traffic through the specified proxy.

### Proxychains-ng

Proxychains-ng is an updated version of ProxyChains that supports IPv6 and other improvements. It works in a similar way to ProxyChains, allowing you to run programs through a proxy server. You can configure the proxy settings in the `proxychains.conf` file and use the `proxychains4` or `proxychains6` command to run commands through the proxy.

### ProxyTunnel

ProxyTunnel is a tool that allows you to create a bi-directional encrypted tunnel between a client and a server through a proxy server. It can be used to bypass network restrictions and encrypt communication between the client and the server. ProxyTunnel supports various proxy types, including SOCKS.

To use ProxyTunnel, you need to specify the proxy server, target server, and other parameters in the command line. ProxyTunnel will establish a connection with the proxy server and create a tunnel for the client and server to communicate securely.

### ProxyCap

ProxyCap is a commercial tool that allows you to redirect network connections through a proxy server. It supports various proxy types, including SOCKS. ProxyCap provides a user-friendly interface for configuring the proxy settings and routing the traffic through the proxy.

To use ProxyCap, you need to add a new proxy server in the configuration and specify the proxy type, IP address, port, and other parameters. Once the proxy server is added, you can enable the proxy for specific applications or configure global proxy settings.

### Conclusion

Pentesting SOCKS involves testing the security of SOCKS proxy servers and analyzing the communication between the client and the server. Tools like ProxyChains, ProxyChains-ng, ProxyTunnel, and ProxyCap can be used to redirect network traffic through a SOCKS proxy and assess its vulnerabilities. By understanding the techniques and tools used in pentesting SOCKS, you can identify and mitigate potential security risks.

```
socks5 10.10.10.10 1080
```

Sa autentifikacijom

```
socks5 10.10.10.10 1080 username password
```

#### Više informacija: [Tuneliranje i prosleđivanje porta](../generic-methodologies-and-resources/tunneling-and-port-forwarding.md)

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju oglašenu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
