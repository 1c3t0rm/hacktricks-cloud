# Harvesting tickets from Linux

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**PLANOVE ZA PRETPLATU**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

#### Skladištenje akreditacija u Linux-u

Linux sistemi skladište akreditacije u tri vrste keša, to su **Fajlovi** (u `/tmp` direktorijumu), **Kernel Keyrings** (poseban segment u Linux kernelu) i **Memorija procesa** (za upotrebu jednog procesa). Promenljiva **default\_ccache\_name** u `/etc/krb5.conf` otkriva vrstu skladištenja koja se koristi, sa podrazumevanom vrednošću `FILE:/tmp/krb5cc_%{uid}` ako nije navedena.

#### Izvlačenje akreditacija

Rad iz 2017. godine, [**Krađa Kerberos akreditacija (GNU/Linux)**](https://www.delaat.net/rp/2016-2017/p97/report.pdf), opisuje metode izvlačenja akreditacija iz keša i procesa, sa posebnim naglaskom na mehanizam keša u Linux kernelu za upravljanje i skladištenje ključeva.

**Pregled izvlačenja keša**

Sistemski poziv **keyctl**, koji je uveden u verziji kernela 2.6.10, omogućava aplikacijama u prostoru korisnika da komuniciraju sa kešem kernela. Akreditacije u kešu se skladište kao komponente (podrazumevani principali i akreditacije), koje se razlikuju od fajl ccaches koje takođe uključuju zaglavlje. Skripta **hercules.sh** iz rada demonstrira izvlačenje i rekonstrukciju ovih komponenti u upotrebljiv fajl ccache za krađu akreditacija.

**Alat za izvlačenje tiketa: Tickey**

Građen na principima skripte **hercules.sh**, alat [**tickey**](https://github.com/TarlogicSecurity/tickey) je posebno dizajniran za izvlačenje tiketa iz keša, izvršava se putem `/tmp/tickey -i`.

### Reference

* [**https://www.tarlogic.com/en/blog/how-to-attack-kerberos/**](https://www.tarlogic.com/en/blog/how-to-attack-kerberos/)

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**PLANOVE ZA PRETPLATU**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@carlospolopm**](https://twitter.com/hacktricks\_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
