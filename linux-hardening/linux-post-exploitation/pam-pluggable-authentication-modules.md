# PAM - Pluggable Authentication Modules

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **vašu kompaniju reklamiranu na HackTricks-u** ili **preuzmete HackTricks u PDF formatu** proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>

### Osnovne informacije

**PAM (Pluggable Authentication Modules)** deluje kao mehanizam za bezbednost koji **proverava identitet korisnika koji pokušavaju da pristupe računarskim uslugama**, kontrolišući njihov pristup na osnovu različitih kriterijuma. To je slično digitalnom čuvaru, osiguravajući da samo ovlašćeni korisnici mogu da koriste određene usluge, dok istovremeno mogu ograničiti njihovo korišćenje radi sprečavanja preopterećenja sistema.

#### Konfiguracioni fajlovi

* **Solaris i UNIX bazirani sistemi** obično koriste centralni konfiguracioni fajl smešten na lokaciji `/etc/pam.conf`.
* **Linux sistemi** preferiraju pristup putem direktorijuma, čuvajući konfiguracije specifične za usluge unutar `/etc/pam.d`. Na primer, konfiguracioni fajl za login uslugu se nalazi na lokaciji `/etc/pam.d/login`.

Primer PAM konfiguracije za login uslugu može izgledati ovako:

```
auth required /lib/security/pam_securetty.so
auth required /lib/security/pam_nologin.so
auth sufficient /lib/security/pam_ldap.so
auth required /lib/security/pam_unix_auth.so try_first_pass
account sufficient /lib/security/pam_ldap.so
account required /lib/security/pam_unix_acct.so
password required /lib/security/pam_cracklib.so
password required /lib/security/pam_ldap.so
password required /lib/security/pam_pwdb.so use_first_pass
session required /lib/security/pam_unix_session.so
```

#### **PAM Upravljanje oblastima**

Ove oblasti, ili grupe upravljanja, uključuju **auth**, **account**, **password** i **session**, pri čemu svaka odgovara za različite aspekte procesa autentifikacije i upravljanja sesijom:

* **Auth**: Proverava identitet korisnika, često putem zahteva za unos lozinke.
* **Account**: Obrađuje proveru naloga, proveravajući uslove kao što su članstvo u grupi ili ograničenja vremena.
* **Password**: Upravlja ažuriranjem lozinke, uključujući proveru složenosti ili sprečavanje rečničkih napada.
* **Session**: Upravlja radnjama tokom početka ili kraja sesije usluge, kao što su montiranje direktorijuma ili postavljanje ograničenja resursa.

#### **PAM Kontrole modula**

Kontrole određuju odgovor modula na uspeh ili neuspeh, utičući na celokupan proces autentifikacije. Ove kontrole uključuju:

* **Required**: Neuspeh obaveznog modula rezultira konačnim neuspehom, ali tek nakon provere svih sledećih modula.
* **Requisite**: Odmah prekida proces pri neuspehu.
* **Sufficient**: Uspeh zaobilazi preostale provere u istoj oblasti, osim ako neki sledeći modul ne uspe.
* **Optional**: Izaziva neuspeh samo ako je jedini modul u steku.

#### Primer scenarija

U postavci sa više autentifikacionih modula, proces se pridržava stroge redosleda. Ako modul `pam_securetty` utvrdi da je terminal za prijavu neovlašćen, prijavljivanje kao root korisnik je blokirano, ali svi moduli se i dalje obrađuju zbog njegovog "required" statusa. Modul `pam_env` postavlja promenljive okruženja, što potencijalno pomaže korisničkom iskustvu. Moduli `pam_ldap` i `pam_unix` zajedno rade na autentifikaciji korisnika, pri čemu `pam_unix` pokušava da koristi prethodno unetu lozinku, poboljšavajući efikasnost i fleksibilnost metoda autentifikacije.

### Reference

* [https://hotpotato.tistory.com/434](https://hotpotato.tistory.com/434)

<details>

<summary><strong>Naučite hakovanje AWS-a od nule do heroja sa</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Drugi načini podrške HackTricks-u:

* Ako želite da vidite **oglašavanje vaše kompanije u HackTricks-u** ili **preuzmete HackTricks u PDF formatu**, proverite [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Nabavite [**zvanični PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Otkrijte [**The PEASS Family**](https://opensea.io/collection/the-peass-family), našu kolekciju ekskluzivnih [**NFT-ova**](https://opensea.io/collection/the-peass-family)
* **Pridružite se** 💬 [**Discord grupi**](https://discord.gg/hRep4RUj7f) ili [**telegram grupi**](https://t.me/peass) ili nas **pratite** na **Twitter-u** 🐦 [**@hacktricks\_live**](https://twitter.com/hacktricks\_live)**.**
* **Podelite svoje hakovanje trikove slanjem PR-ova na** [**HackTricks**](https://github.com/carlospolop/hacktricks) i [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repozitorijume.

</details>
