# Okta

<details>

<summary><strong>Aprende hacking en AWS de cero a h칠roe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si quieres ver a tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** revisa los [**PLANES DE SUSCRIPCI칍N**](https://github.com/sponsors/carlospolop)!
* Consigue el [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colecci칩n de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **칔nete al** 游눫 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s칤gueme** en **Twitter** 游냕 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de github de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## Informaci칩n B치sica

[Okta, Inc.](https://www.okta.com/) es reconocida en el sector de gesti칩n de identidad y acceso por sus soluciones de software basadas en la nube. Estas soluciones est치n dise침adas para agilizar y asegurar la autenticaci칩n de usuarios en diversas aplicaciones modernas. Atienden no solo a empresas que buscan proteger sus datos sensibles sino tambi칠n a desarrolladores interesados en integrar controles de identidad en aplicaciones, servicios web y dispositivos.

La oferta principal de Okta es **Okta Identity Cloud**. Esta plataforma incluye una suite de productos, que abarca, entre otros:

- **Single Sign-On (SSO)**: Simplifica el acceso de los usuarios permitiendo un conjunto de credenciales de inicio de sesi칩n para m칰ltiples aplicaciones.
- **Multi-Factor Authentication (MFA)**: Mejora la seguridad al requerir m칰ltiples formas de verificaci칩n.
- **Lifecycle Management**: Automatiza la creaci칩n, actualizaci칩n y desactivaci칩n de cuentas de usuario.
- **Universal Directory**: Permite la gesti칩n centralizada de usuarios, grupos y dispositivos.
- **API Access Management**: Asegura y gestiona el acceso a APIs.

Estos servicios tienen como objetivo colectivo fortalecer la protecci칩n de datos y agilizar el acceso de los usuarios, mejorando tanto la seguridad como la comodidad. La versatilidad de las soluciones de Okta las hace una opci칩n popular en diversas industrias, beneficiando a grandes empresas, peque침as compa침칤as y desarrolladores individuales por igual. A la fecha de la 칰ltima actualizaci칩n en septiembre de 2021, Okta es reconocida como una entidad prominente en el 치mbito de Gesti칩n de Identidad y Acceso (IAM).

{% hint style="danger" %}
El principal objetivo de Okta es configurar el acceso a diferentes usuarios y grupos a aplicaciones externas. Si logras **comprometer los privilegios de administrador en un entorno de Okta**, con alta probabilidad podr치s **comprometer todas las otras plataformas que la empresa est치 utilizando**.
{% endhint %}

{% hint style="success" %}
Para realizar una revisi칩n de seguridad de un entorno de Okta deber칤as solicitar **acceso de solo lectura de administrador**.
{% endhint %}

## Directorio

### Personas

Desde la perspectiva de un atacante, esto es sumamente interesante ya que podr치s ver **todos los usuarios registrados**, sus direcciones de **correo electr칩nico**, los **grupos** a los que pertenecen, **perfiles** e incluso **dispositivos** (m칩viles junto con sus sistemas operativos).

Para una revisi칩n de caja blanca, verifica que no haya varios "Pending user action" y "Password reset"

### Grupos

Aqu칤 es donde encuentras todos los grupos creados en Okta. Es interesante entender los diferentes grupos (conjunto de **permisos**) que podr칤an ser otorgados a **usuarios**.\
Es posible ver las **personas incluidas dentro de los grupos** y las **aplicaciones asignadas** a cada grupo.

Por supuesto, cualquier grupo con el nombre de **admin** es interesante, especialmente el grupo **Global Administrators**; revisa los miembros para saber qui칠nes son los miembros m치s privilegiados.

Desde una revisi칩n de caja blanca, **no deber칤a haber m치s de 5 administradores globales** (mejor si solo hay 2 o 3).

### Dispositivos

Encuentra aqu칤 una **lista de todos los dispositivos** de todos los usuarios. Tambi칠n puedes ver si est치 siendo **gestionado activamente** o no.

### Editor de Perfil

Aqu칤 es posible observar c칩mo informaci칩n clave como nombres, apellidos, correos electr칩nicos, nombres de usuario... se comparten entre Okta y otras aplicaciones. Esto es interesante porque si un usuario puede **modificar en Okta un campo** (como su nombre o correo electr칩nico) que luego es utilizado por una **aplicaci칩n externa** para **identificar** al usuario, un insider podr칤a intentar **tomar control de otras cuentas**.

Adem치s, en el perfil **`User (default)`** de Okta puedes ver **qu칠 campos** tiene cada **usuario** y cu치les son **editables** por los usuarios. Si no puedes ver el panel de administraci칩n, simplemente ve a **actualizar tu informaci칩n de perfil** y ver치s qu칠 campos puedes actualizar (nota que para actualizar una direcci칩n de correo electr칩nico necesitar치s verificarla).

### Integraciones de Directorio

Los directorios permiten importar personas de fuentes existentes. Supongo que aqu칤 ver치s los usuarios importados de otros directorios.

No lo he visto, pero supongo que esto es interesante para descubrir **otros directorios que Okta est치 utilizando para importar usuarios** as칤 que si **comprometes ese directorio** podr칤as establecer algunos valores de atributos en los usuarios creados en Okta y **quiz치s comprometer el entorno de Okta**.

### Fuentes de Perfil

Una fuente de perfil es una **aplicaci칩n que act칰a como fuente de verdad** para los atributos del perfil de usuario. Un usuario solo puede ser originado por una 칰nica aplicaci칩n o directorio a la vez.

No lo he visto, as칤 que cualquier informaci칩n sobre seguridad y hacking con respecto a esta opci칩n es bienvenida.

<details>

<summary><strong>Aprende hacking en AWS de cero a h칠roe con</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Otras formas de apoyar a HackTricks:

* Si quieres ver a tu **empresa anunciada en HackTricks** o **descargar HackTricks en PDF** revisa los [**PLANES DE SUSCRIPCI칍N**](https://github.com/sponsors/carlospolop)!
* Consigue el [**merchandising oficial de PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubre [**La Familia PEASS**](https://opensea.io/collection/the-peass-family), nuestra colecci칩n de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **칔nete al** 游눫 [**grupo de Discord**](https://discord.gg/hRep4RUj7f) o al [**grupo de telegram**](https://t.me/peass) o **s칤gueme** en **Twitter** 游냕 [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Comparte tus trucos de hacking enviando PRs a los repositorios de github de** [**HackTricks**](https://github.com/carlospolop/hacktricks) y [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
