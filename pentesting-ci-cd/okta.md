# Okta

<details>

<summary><strong>Aprenda hacking no AWS do zero ao her√≥i com</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Outras formas de apoiar o HackTricks:

* Se voc√™ quer ver sua **empresa anunciada no HackTricks** ou **baixar o HackTricks em PDF**, confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Adquira o [**material oficial PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubra [**A Fam√≠lia PEASS**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **Junte-se ao grupo** üí¨ [**Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Compartilhe suas t√©cnicas de hacking enviando PRs para os reposit√≥rios do github** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>

## Informa√ß√µes B√°sicas

[Okta, Inc.](https://www.okta.com/) √© reconhecida no setor de gerenciamento de identidade e acesso por suas solu√ß√µes de software baseadas na nuvem. Essas solu√ß√µes s√£o projetadas para simplificar e proteger a autentica√ß√£o de usu√°rios em v√°rias aplica√ß√µes modernas. Elas atendem n√£o apenas empresas que visam proteger seus dados sens√≠veis, mas tamb√©m desenvolvedores interessados em integrar controles de identidade em aplica√ß√µes, servi√ßos web e dispositivos.

A principal oferta da Okta √© o **Okta Identity Cloud**. Esta plataforma inclui uma s√©rie de produtos, entre eles:

- **Single Sign-On (SSO)**: Simplifica o acesso do usu√°rio permitindo um conjunto de credenciais de login em v√°rias aplica√ß√µes.
- **Multi-Factor Authentication (MFA)**: Aumenta a seguran√ßa exigindo m√∫ltiplas formas de verifica√ß√£o.
- **Lifecycle Management**: Automatiza a cria√ß√£o, atualiza√ß√£o e desativa√ß√£o de contas de usu√°rios.
- **Universal Directory**: Permite o gerenciamento centralizado de usu√°rios, grupos e dispositivos.
- **API Access Management**: Protege e gerencia o acesso a APIs.

Esses servi√ßos visam coletivamente fortalecer a prote√ß√£o de dados e simplificar o acesso do usu√°rio, aumentando tanto a seguran√ßa quanto a conveni√™ncia. A versatilidade das solu√ß√µes da Okta as torna uma escolha popular em v√°rias ind√∫strias, beneficiando grandes empresas, pequenas companhias e desenvolvedores individuais. At√© a √∫ltima atualiza√ß√£o em setembro de 2021, a Okta √© reconhecida como uma entidade proeminente na √°rea de Gerenciamento de Identidade e Acesso (IAM).

{% hint style="danger" %}
O principal objetivo da Okta √© configurar o acesso para diferentes usu√°rios e grupos a aplica√ß√µes externas. Se voc√™ conseguir **comprometer privil√©gios de administrador em um ambiente Okta**, provavelmente ser√° capaz de **comprometer todas as outras plataformas que a empresa est√° usando**.
{% endhint %}

{% hint style="success" %}
Para realizar uma revis√£o de seguran√ßa de um ambiente Okta, voc√™ deve solicitar **acesso de leitura de administrador**.
{% endhint %}

## Diret√≥rio

### Pessoas

Do ponto de vista de um atacante, isso √© super interessante, pois voc√™ poder√° ver **todos os usu√°rios registrados**, seus endere√ßos de **email**, os **grupos** dos quais fazem parte, **perfis** e at√© **dispositivos** (celulares junto com seus sistemas operacionais).

Para uma revis√£o whitebox, verifique se n√£o h√° v√°rios "Pending user action" e "Password reset"

### Grupos

Aqui √© onde voc√™ encontra todos os grupos criados na Okta. √â interessante entender os diferentes grupos (conjunto de **permiss√µes**) que podem ser concedidos aos **usu√°rios**.\
√â poss√≠vel ver as **pessoas inclu√≠das nos grupos** e **aplica√ß√µes atribu√≠das** a cada grupo.

Claro, qualquer grupo com o nome de **admin** √© interessante, especialmente o grupo **Global Administrators**; verifique os membros para saber quem s√£o os membros mais privilegiados.

De uma revis√£o whitebox, **n√£o deveria haver mais de 5 administradores globais** (melhor se houver apenas 2 ou 3).

### Dispositivos

Encontre aqui uma **lista de todos os dispositivos** de todos os usu√°rios. Voc√™ tamb√©m pode ver se est√° sendo **gerenciado ativamente** ou n√£o.

### Editor de Perfil

Aqui √© poss√≠vel observar como informa√ß√µes chave como nomes, sobrenomes, emails, nomes de usu√°rio... s√£o compartilhadas entre Okta e outras aplica√ß√µes. Isso √© interessante porque se um usu√°rio pode **modificar no Okta um campo** (como seu nome ou email) que depois √© usado por uma **aplica√ß√£o externa** para **identificar** o usu√°rio, um insider poderia tentar **assumir outras contas**.

Al√©m disso, no perfil **`User (default)`** da Okta, voc√™ pode ver **quais campos** cada **usu√°rio** tem e quais s√£o **edit√°veis** pelos usu√°rios. Se voc√™ n√£o pode ver o painel administrativo, basta ir para **atualizar suas informa√ß√µes de perfil** e voc√™ ver√° quais campos pode atualizar (note que para atualizar um endere√ßo de email voc√™ precisar√° verific√°-lo).

### Integra√ß√µes de Diret√≥rio

Diret√≥rios permitem importar pessoas de fontes existentes. Suponho que aqui voc√™ ver√° os usu√°rios importados de outros diret√≥rios.

Eu n√£o vi isso, mas suponho que isso seja interessante para descobrir **outros diret√≥rios que a Okta est√° usando para importar usu√°rios** ent√£o se voc√™ **comprometer esse diret√≥rio** voc√™ poderia definir alguns valores de atributos nos usu√°rios criados na Okta e **talvez comprometer o ambiente Okta**.

### Fontes de Perfil

Uma fonte de perfil √© uma **aplica√ß√£o que atua como fonte de verdade** para atributos de perfil de usu√°rio. Um usu√°rio s√≥ pode ser originado por uma √∫nica aplica√ß√£o ou diret√≥rio por vez.

Eu n√£o vi isso, ent√£o qualquer informa√ß√£o sobre seguran√ßa e hacking relacionada a esta op√ß√£o √© apreciada.

<details>

<summary><strong>Aprenda hacking no AWS do zero ao her√≥i com</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Outras formas de apoiar o HackTricks:

* Se voc√™ quer ver sua **empresa anunciada no HackTricks** ou **baixar o HackTricks em PDF**, confira os [**PLANOS DE ASSINATURA**](https://github.com/sponsors/carlospolop)!
* Adquira o [**material oficial PEASS & HackTricks**](https://peass.creator-spring.com)
* Descubra [**A Fam√≠lia PEASS**](https://opensea.io/collection/the-peass-family), nossa cole√ß√£o de [**NFTs**](https://opensea.io/collection/the-peass-family) exclusivos
* **Junte-se ao grupo** üí¨ [**Discord**](https://discord.gg/hRep4RUj7f) ou ao [**grupo do telegram**](https://t.me/peass) ou **siga-me** no **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Compartilhe suas t√©cnicas de hacking enviando PRs para os reposit√≥rios do github** [**HackTricks**](https://github.com/carlospolop/hacktricks) e [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud).

</details>
