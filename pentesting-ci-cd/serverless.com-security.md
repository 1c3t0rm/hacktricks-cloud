# Serverless.com å®‰å…¨

{% hint style="success" %}
å­¦ä¹ ä¸å®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">\
å­¦ä¹ ä¸å®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š<img src="../.gitbook/assets/image (2) (1).png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="../.gitbook/assets/image (2) (1).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**Telegram ç¾¤ç»„**](https://t.me/peass) æˆ– **å…³æ³¨** æˆ‘ä»¬çš„ **Twitter** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) GitHub ä»“åº“æäº¤ PR åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}

## åŸºæœ¬ä¿¡æ¯

### ç»„ç»‡

ä¸€ä¸ª **ç»„ç»‡** æ˜¯ Serverless Framework ç”Ÿæ€ç³»ç»Ÿä¸­çš„æœ€é«˜çº§åˆ«å®ä½“ã€‚å®ƒä»£è¡¨ä¸€ä¸ª **é›†ä½“å›¢ä½“**ï¼Œä¾‹å¦‚å…¬å¸ã€éƒ¨é—¨æˆ–ä»»ä½•å¤§å‹å®ä½“ï¼Œæ¶µç›–å¤šä¸ªé¡¹ç›®ã€å›¢é˜Ÿå’Œåº”ç”¨ç¨‹åºã€‚

### å›¢é˜Ÿ

**å›¢é˜Ÿ** æ˜¯åœ¨ç»„ç»‡å†…æœ‰è®¿é—®æƒé™çš„ç”¨æˆ·ã€‚å›¢é˜Ÿå¸®åŠ©æ ¹æ®è§’è‰²ç»„ç»‡æˆå‘˜ã€‚**`åˆä½œè€…`** å¯ä»¥æŸ¥çœ‹å’Œéƒ¨ç½²ç°æœ‰åº”ç”¨ï¼Œè€Œ **`ç®¡ç†å‘˜`** å¯ä»¥åˆ›å»ºæ–°åº”ç”¨å¹¶ç®¡ç†ç»„ç»‡è®¾ç½®ã€‚

### åº”ç”¨ç¨‹åº

ä¸€ä¸ª **åº”ç”¨** æ˜¯ç»„ç»‡å†…ç›¸å…³æœåŠ¡çš„é€»è¾‘åˆ†ç»„ã€‚å®ƒä»£è¡¨ä¸€ä¸ªå®Œæ•´çš„åº”ç”¨ç¨‹åºï¼Œç”±å¤šä¸ªæ— æœåŠ¡å™¨æœåŠ¡ç»„æˆï¼Œè¿™äº›æœåŠ¡ååŒå·¥ä½œä»¥æä¾›ä¸€è‡´çš„åŠŸèƒ½ã€‚

### **æœåŠ¡**

ä¸€ä¸ª **æœåŠ¡** æ˜¯æ— æœåŠ¡å™¨åº”ç”¨ç¨‹åºçš„æ ¸å¿ƒç»„ä»¶ã€‚å®ƒä»£è¡¨æ•´ä¸ªæ— æœåŠ¡å™¨é¡¹ç›®ï¼Œå°è£…äº†æ‰€æœ‰æ‰€éœ€çš„åŠŸèƒ½ã€é…ç½®å’Œèµ„æºã€‚å®ƒé€šå¸¸åœ¨ `serverless.yml` æ–‡ä»¶ä¸­å®šä¹‰ï¼ŒæœåŠ¡åŒ…æ‹¬å…ƒæ•°æ®ï¼Œå¦‚æœåŠ¡åç§°ã€æä¾›è€…é…ç½®ã€åŠŸèƒ½ã€äº‹ä»¶ã€èµ„æºã€æ’ä»¶å’Œè‡ªå®šä¹‰å˜é‡ã€‚
```yaml
service: my-service
provider:
name: aws
runtime: nodejs14.x
functions:
hello:
handler: handler.hello
```
<details>

<summary>Function</summary>

ä¸€ä¸ª **Function** ä»£è¡¨ä¸€ä¸ªå•ä¸€çš„æ— æœåŠ¡å™¨å‡½æ•°ï¼Œä¾‹å¦‚ AWS Lambda å‡½æ•°ã€‚å®ƒåŒ…å«å“åº”äº‹ä»¶æ—¶æ‰§è¡Œçš„ä»£ç ã€‚

å®ƒåœ¨ `serverless.yml` çš„ `functions` éƒ¨åˆ†ä¸‹å®šä¹‰ï¼ŒæŒ‡å®šå¤„ç†ç¨‹åºã€è¿è¡Œæ—¶ã€äº‹ä»¶ã€ç¯å¢ƒå˜é‡å’Œå…¶ä»–è®¾ç½®ã€‚
```yaml
functions:
hello:
handler: handler.hello
events:
- http:
path: hello
method: get
```
</details>

<details>

<summary>äº‹ä»¶</summary>

**äº‹ä»¶** æ˜¯è§¦å‘æ‚¨æ— æœåŠ¡å™¨å‡½æ•°çš„è§¦å‘å™¨ã€‚å®ƒä»¬å®šä¹‰äº†å‡½æ•°åº”è¯¥å¦‚ä½•ä»¥åŠä½•æ—¶æ‰§è¡Œã€‚

å¸¸è§çš„äº‹ä»¶ç±»å‹åŒ…æ‹¬ HTTP è¯·æ±‚ã€è®¡åˆ’äº‹ä»¶ï¼ˆcron ä½œä¸šï¼‰ã€æ•°æ®åº“äº‹ä»¶ã€æ–‡ä»¶ä¸Šä¼ ç­‰ã€‚
```yaml
functions:
hello:
handler: handler.hello
events:
- http:
path: hello
method: get
- schedule:
rate: rate(10 minutes)
```
</details>

<details>

<summary>èµ„æº</summary>

**èµ„æº** å…è®¸æ‚¨å®šä¹‰æ‚¨çš„æœåŠ¡æ‰€ä¾èµ–çš„é¢å¤–äº‘èµ„æºï¼Œä¾‹å¦‚æ•°æ®åº“ã€å­˜å‚¨æ¡¶æˆ– IAM è§’è‰²ã€‚

å®ƒä»¬åœ¨ `resources` éƒ¨åˆ†ä¸‹æŒ‡å®šï¼Œé€šå¸¸ä½¿ç”¨ AWS çš„ CloudFormation è¯­æ³•ã€‚
```yaml
resources:
Resources:
MyDynamoDBTable:
Type: AWS::DynamoDB::Table
Properties:
TableName: my-table
AttributeDefinitions:
- AttributeName: id
AttributeType: S
KeySchema:
- AttributeName: id
KeyType: HASH
ProvisionedThroughput:
ReadCapacityUnits: 1
WriteCapacityUnits: 1
```
</details>

<details>

<summary>æä¾›è€…</summary>

**Provider** å¯¹è±¡æŒ‡å®šäº‘æœåŠ¡æä¾›å•†ï¼ˆä¾‹å¦‚ï¼ŒAWSã€Azureã€Google Cloudï¼‰ï¼Œå¹¶åŒ…å«ä¸è¯¥æä¾›å•†ç›¸å…³çš„é…ç½®è®¾ç½®ã€‚

å®ƒåŒ…æ‹¬è¿è¡Œæ—¶ã€åŒºåŸŸã€é˜¶æ®µå’Œå‡­æ®ç­‰è¯¦ç»†ä¿¡æ¯ã€‚
```yaml
yamlCopy codeprovider:
name: aws
runtime: nodejs14.x
region: us-east-1
stage: dev
```
</details>

<details>

<summary>é˜¶æ®µå’ŒåŒºåŸŸ</summary>

é˜¶æ®µä»£è¡¨ä¸åŒçš„ç¯å¢ƒï¼ˆä¾‹å¦‚ï¼Œå¼€å‘ã€é¢„å‘å¸ƒã€ç”Ÿäº§ï¼‰ï¼Œæ‚¨çš„æœåŠ¡å¯ä»¥åœ¨è¿™äº›ç¯å¢ƒä¸­éƒ¨ç½²ã€‚å®ƒå…è®¸è¿›è¡Œç‰¹å®šäºç¯å¢ƒçš„é…ç½®å’Œéƒ¨ç½²ã€‚
```yaml
provider:
stage: dev
```
åŒºåŸŸæŒ‡å®šäº†æ‚¨çš„èµ„æºå°†è¦éƒ¨ç½²çš„åœ°ç†åŒºåŸŸã€‚è¿™å¯¹äºå»¶è¿Ÿã€åˆè§„æ€§å’Œå¯ç”¨æ€§è€ƒè™‘éå¸¸é‡è¦ã€‚
```yaml
provider:
region: us-west-2
```
</details>

<details>

<summary>æ’ä»¶</summary>

**æ’ä»¶** é€šè¿‡æ·»åŠ æ–°åŠŸèƒ½æˆ–ä¸å…¶ä»–å·¥å…·å’ŒæœåŠ¡é›†æˆæ¥æ‰©å±• Serverless Framework çš„åŠŸèƒ½ã€‚å®ƒä»¬åœ¨ `plugins` éƒ¨åˆ†å®šä¹‰ï¼Œå¹¶é€šè¿‡ npm å®‰è£…ã€‚
```yaml
plugins:
- serverless-offline
- serverless-webpack
```
</details>

<details>

<summary>å±‚</summary>

**å±‚** å…è®¸æ‚¨å°†å…±äº«ä»£ç æˆ–ä¾èµ–é¡¹å•ç‹¬æ‰“åŒ…å’Œç®¡ç†ï¼Œä¸æ‚¨çš„å‡½æ•°åˆ†å¼€ã€‚è¿™ä¿ƒè¿›äº†å¯é‡ç”¨æ€§å¹¶å‡å°‘äº†éƒ¨ç½²åŒ…çš„å¤§å°ã€‚å®ƒä»¬åœ¨ `layers` éƒ¨åˆ†å®šä¹‰ï¼Œå¹¶ç”±å‡½æ•°å¼•ç”¨ã€‚
```yaml
layers:
commonLibs:
path: layer-common
functions:
hello:
handler: handler.hello
layers:
- { Ref: CommonLibsLambdaLayer }
```
</details>

<details>

<summary>å˜é‡å’Œè‡ªå®šä¹‰å˜é‡</summary>

**å˜é‡** é€šè¿‡å…è®¸ä½¿ç”¨åœ¨éƒ¨ç½²æ—¶è§£æçš„å ä½ç¬¦æ¥å®ç°åŠ¨æ€é…ç½®ã€‚

*   **è¯­æ³•ï¼š** `${variable}` è¯­æ³•å¯ä»¥å¼•ç”¨ç¯å¢ƒå˜é‡ã€æ–‡ä»¶å†…å®¹æˆ–å…¶ä»–é…ç½®å‚æ•°ã€‚

```yaml
functions:
hello:
handler: handler.hello
environment:
TABLE_NAME: ${self:custom.tableName}
```

-   **è‡ªå®šä¹‰å˜é‡ï¼š** `custom` éƒ¨åˆ†ç”¨äºå®šä¹‰ç”¨æˆ·ç‰¹å®šçš„å˜é‡å’Œé…ç½®ï¼Œè¿™äº›å˜é‡å’Œé…ç½®å¯ä»¥åœ¨ `serverless.yml` ä¸­é‡å¤ä½¿ç”¨ã€‚

```yaml
custom:
tableName: my-dynamodb-table
stage: ${opt:stage, 'dev'}
```

</details>

<details>

<summary>è¾“å‡º</summary>

**è¾“å‡º** å®šä¹‰åœ¨æœåŠ¡éƒ¨ç½²åè¿”å›çš„å€¼ï¼Œä¾‹å¦‚èµ„æº ARNã€ç«¯ç‚¹æˆ–å…¶ä»–æœ‰ç”¨ä¿¡æ¯ã€‚å®ƒä»¬åœ¨ `outputs` éƒ¨åˆ†ä¸­æŒ‡å®šï¼Œé€šå¸¸ç”¨äºå‘å…¶ä»–æœåŠ¡å…¬å¼€ä¿¡æ¯æˆ–åœ¨éƒ¨ç½²åæ–¹ä¾¿è®¿é—®ã€‚
```yaml
Â¡outputs:
ApiEndpoint:
Description: "API Gateway endpoint URL"
Value:
Fn::Join:
- ""
- - "https://"
- Ref: ApiGatewayRestApi
- ".execute-api."
- Ref: AWS::Region
- ".amazonaws.com/"
- Ref: AWS::Stage
```
</details>

<details>

<summary>IAMè§’è‰²å’Œæƒé™</summary>

**IAMè§’è‰²å’Œæƒé™** å®šä¹‰äº†æ‚¨å‡½æ•°å’Œå…¶ä»–èµ„æºçš„å®‰å…¨å‡­è¯å’Œè®¿é—®æƒé™ã€‚å®ƒä»¬åœ¨ `provider` æˆ–å•ä¸ªå‡½æ•°è®¾ç½®ä¸‹è¿›è¡Œç®¡ç†ï¼Œä»¥æŒ‡å®šå¿…è¦çš„æƒé™ã€‚
```yaml
provider:
iamRoleStatements:
- Effect: Allow
Action:
- dynamodb:Query
- dynamodb:Scan
Resource: arn:aws:dynamodb:${self:provider.region}:*:table/my-table
```
</details>

<details>

<summary>ç¯å¢ƒå˜é‡</summary>

**å˜é‡** å…è®¸æ‚¨å°†é…ç½®è®¾ç½®å’Œç§˜å¯†ä¼ é€’ç»™æ‚¨çš„å‡½æ•°ï¼Œè€Œæ— éœ€å°†å®ƒä»¬ç¡¬ç¼–ç ã€‚å®ƒä»¬åœ¨æä¾›è€…æˆ–å•ä¸ªå‡½æ•°çš„ `environment` éƒ¨åˆ†ä¸‹å®šä¹‰ã€‚
```yaml
provider:
environment:
STAGE: ${self:provider.stage}
functions:
hello:
handler: handler.hello
environment:
TABLE_NAME: ${self:custom.tableName}
```
</details>

<details>

<summary>ä¾èµ–é¡¹</summary>

**ä¾èµ–é¡¹** ç®¡ç†æ‚¨çš„å‡½æ•°æ‰€éœ€çš„å¤–éƒ¨åº“å’Œæ¨¡å—ã€‚å®ƒä»¬é€šå¸¸é€šè¿‡åƒ npm æˆ– pip è¿™æ ·çš„åŒ…ç®¡ç†å™¨å¤„ç†ï¼Œå¹¶ä½¿ç”¨ `serverless-webpack` ç­‰å·¥å…·æˆ–æ’ä»¶ä¸æ‚¨çš„éƒ¨ç½²åŒ…æ†ç»‘åœ¨ä¸€èµ·ã€‚
```yaml
plugins:
- serverless-webpack
```
</details>

<details>

<summary>Hooks</summary>

**Hooks** å…è®¸æ‚¨åœ¨éƒ¨ç½²ç”Ÿå‘½å‘¨æœŸçš„ç‰¹å®šæ—¶åˆ»è¿è¡Œè‡ªå®šä¹‰è„šæœ¬æˆ–å‘½ä»¤ã€‚å®ƒä»¬é€šè¿‡æ’ä»¶æˆ–åœ¨ `serverless.yml` ä¸­å®šä¹‰ï¼Œä»¥åœ¨éƒ¨ç½²ä¹‹å‰æˆ–ä¹‹åæ‰§è¡Œæ“ä½œã€‚
```yaml
custom:
hooks:
before:deploy:deploy: echo "Starting deployment..."
```
</details>

### æ•™ç¨‹

è¿™æ˜¯å®˜æ–¹æ•™ç¨‹çš„æ‘˜è¦ [**æ¥è‡ªæ–‡æ¡£**](https://www.serverless.com/framework/docs/tutorial):

1. åˆ›å»ºä¸€ä¸ª AWS è´¦æˆ· (Serverless.com åœ¨ AWS åŸºç¡€è®¾æ–½ä¸Šå¯åŠ¨)
2. åœ¨ serverless.com åˆ›å»ºä¸€ä¸ªè´¦æˆ·
3. åˆ›å»ºä¸€ä¸ªåº”ç”¨:
```bash
# Create temp folder for the tutorial
mkdir /tmp/serverless-tutorial
cd /tmp/serverless-tutorial

# Install Serverless cli
npm install -g serverless

# Generate template
serverless #Choose first one (AWS / Node.js / HTTP API)
## Indicate a name like "Tutorial"
## Login/Register
## Create A New App
## Indicate a name like "tutorialapp)
```
è¿™åº”è¯¥åˆ›å»ºäº†ä¸€ä¸ªåä¸º **app** çš„ `tutorialapp`ï¼Œæ‚¨å¯ä»¥åœ¨ [serverless.com](serverless.com-security.md) ä¸­æ£€æŸ¥ï¼Œå¹¶ä¸”åˆ›å»ºäº†ä¸€ä¸ªåä¸º `Tutorial` çš„æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­åŒ…å«æ–‡ä»¶ **`handler.js`**ï¼Œè¯¥æ–‡ä»¶åŒ…å«ä¸€äº› JS ä»£ç å’Œ `helloworld` ä»£ç ï¼Œä»¥åŠæ–‡ä»¶ **`serverless.yml`** å£°æ˜è¯¥å‡½æ•°ï¼š

{% tabs %}
{% tab title="handler.js" %}
```javascript
exports.hello = async (event) => {
return {
statusCode: 200,
body: JSON.stringify({
message: "Go Serverless v4! Your function executed successfully!",
}),
};
};
```
{% endtab %}

{% tab title="serverless.yml" %}
```yaml
# "org" ensures this Service is used with the correct Serverless Framework Access Key.
org: testing12342
# "app" enables Serverless Framework Dashboard features and sharing them with other Services.
app: tutorialapp
# "service" is the name of this project. This will also be added to your AWS resource names.
service: Tutorial

provider:
name: aws
runtime: nodejs20.x

functions:
hello:
handler: handler.hello
events:
- httpApi:
path: /
method: get
```
{% endtab %}
{% endtabs %}

4. åˆ›å»ºä¸€ä¸ª AWS æä¾›è€…ï¼Œè¿›å…¥ `https://app.serverless.com/<org name>/settings/providers?providerId=new&provider=aws` çš„ **dashboard**ã€‚
1. ä¸ºäº†ç»™ `serverless.com` è®¿é—® AWS çš„æƒé™ï¼Œå®ƒä¼šè¦æ±‚è¿è¡Œä¸€ä¸ª cloudformation stackï¼Œä½¿ç”¨è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼ˆåœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼‰ï¼š [https://serverless-framework-template.s3.amazonaws.com/roleTemplate.yml](https://serverless-framework-template.s3.amazonaws.com/roleTemplate.yml)
2. è¿™ä¸ªæ¨¡æ¿ç”Ÿæˆä¸€ä¸ªåä¸º **`SFRole-<ID>`** çš„è§’è‰²ï¼Œå…·æœ‰ **`arn:aws:iam::aws:policy/AdministratorAccess`** çš„æƒé™ï¼Œå…è®¸ `Serverless.com` AWS è´¦æˆ·è®¿é—®è¯¥è§’è‰²ã€‚

<details>

<summary>Yaml roleTemplate</summary>
```yaml
Description: This stack creates an IAM role that can be used by Serverless Framework for use in deployments.
Resources:
SFRole:
Type: AWS::IAM::Role
Properties:
AssumeRolePolicyDocument:
Version: '2012-10-17'
Statement:
- Effect: Allow
Principal:
AWS: arn:aws:iam::486128539022:root
Action:
- sts:AssumeRole
Condition:
StringEquals:
sts:ExternalId: !Sub 'ServerlessFramework-${OrgUid}'
Path: /
RoleName: !Ref RoleName
ManagedPolicyArns:
- arn:aws:iam::aws:policy/AdministratorAccess
ReporterFunction:
Type: Custom::ServerlessFrameworkReporter
Properties:
ServiceToken: 'arn:aws:lambda:us-east-1:486128539022:function:sp-providers-stack-reporter-custom-resource-prod-tmen2ec'
OrgUid: !Ref OrgUid
RoleArn: !GetAtt SFRole.Arn
Alias: !Ref Alias
Outputs:
SFRoleArn:
Description: 'ARN for the IAM Role used by Serverless Framework'
Value: !GetAtt SFRole.Arn
Parameters:
OrgUid:
Description: Serverless Framework Org Uid
Type: String
Alias:
Description: Serverless Framework Provider Alias
Type: String
RoleName:
Description: Serverless Framework Role Name
Type: String
```
</details>

<details>

<summary>ä¿¡ä»»å…³ç³»</summary>
```json
{
"Version": "2012-10-17",
"Statement": [
{
"Effect": "Allow",
"Principal": {
"AWS": "arn:aws:iam::486128539022:root"
},
"Action": "sts:AssumeRole",
"Condition": {
"StringEquals": {
"sts:ExternalId": "ServerlessFramework-7bf7ddef-e1bf-43eb-a111-4d43e0894ccb"
}
}
}
]
}
```
</details>

5. æœ¬æ•™ç¨‹è¦æ±‚åˆ›å»ºæ–‡ä»¶ `createCustomer.js`ï¼Œè¯¥æ–‡ä»¶åŸºæœ¬ä¸Šå°†åˆ›å»ºä¸€ä¸ªç”±æ–° JS æ–‡ä»¶å¤„ç†çš„æ–° API ç«¯ç‚¹ï¼Œå¹¶è¦æ±‚ä¿®æ”¹ `serverless.yml` æ–‡ä»¶ä»¥ç”Ÿæˆä¸€ä¸ª **æ–°çš„ DynamoDB è¡¨**ï¼Œå®šä¹‰ä¸€ä¸ª **ç¯å¢ƒå˜é‡**ï¼Œä»¥åŠå°†ä½¿ç”¨ç”Ÿæˆçš„ lambdas çš„è§’è‰²ã€‚

{% tabs %}
{% tab title="createCustomer.js" %}
```javascript
'use strict'
const AWS = require('aws-sdk')
module.exports.createCustomer = async (event) => {
const body = JSON.parse(Buffer.from(event.body, 'base64').toString())
const dynamoDb = new AWS.DynamoDB.DocumentClient()
const putParams = {
TableName: process.env.DYNAMODB_CUSTOMER_TABLE,
Item: {
primary_key: body.name,
email: body.email,
},
}
await dynamoDb.put(putParams).promise()
return {
statusCode: 201,
}
}
```
{% endtab %}

{% tab title="serverless.yml" %}
```yaml
# "org" ensures this Service is used with the correct Serverless Framework Access Key.
org: testing12342
# "app" enables Serverless Framework Dashboard features and sharing them with other Services.
app: tutorialapp
# "service" is the name of this project. This will also be added to your AWS resource names.
service: Tutorial

provider:
name: aws
runtime: nodejs20.x
environment:
DYNAMODB_CUSTOMER_TABLE: ${self:service}-customerTable-${sls:stage}
iam:
role:
statements:
- Effect: 'Allow'
Action:
- 'dynamodb:PutItem'
- 'dynamodb:Get*'
- 'dynamodb:Scan*'
- 'dynamodb:UpdateItem'
- 'dynamodb:DeleteItem'
Resource: arn:aws:dynamodb:${aws:region}:${aws:accountId}:table/${self:service}-customerTable-${sls:stage}

functions:
hello:
handler: handler.hello
events:
- httpApi:
path: /
method: get
createCustomer:
handler: createCustomer.createCustomer
events:
- httpApi:
path: /
method: post

resources:
Resources:
CustomerTable:
Type: AWS::DynamoDB::Table
Properties:
AttributeDefinitions:
- AttributeName: primary_key
AttributeType: S
BillingMode: PAY_PER_REQUEST
KeySchema:
- AttributeName: primary_key
KeyType: HASH
TableName: ${self:service}-customerTable-${sls:stage}
```
{% endtab %}
{% endtabs %}

6. éƒ¨ç½²å®ƒè¿è¡Œ **`serverless deploy`**
1. éƒ¨ç½²å°†é€šè¿‡ CloudFormation Stack æ‰§è¡Œ
2. è¯·æ³¨æ„ï¼Œ**lambdas æ˜¯é€šè¿‡ API gateway æš´éœ²çš„**ï¼Œè€Œä¸æ˜¯é€šè¿‡ç›´æ¥ URL
7. **æµ‹è¯•å®ƒ**
1. ä¸Šä¸€æ­¥å°†æ‰“å°å‡º **URLs**ï¼Œæ‚¨çš„ API ç«¯ç‚¹ lambda å‡½æ•°å·²è¢«éƒ¨ç½²

## Serverless.com çš„å®‰å…¨å®¡æŸ¥

### **é”™è¯¯é…ç½®çš„ IAM è§’è‰²å’Œæƒé™**

è¿‡äºå®½æ¾çš„ IAM è§’è‰²å¯èƒ½ä¼šæˆäºˆå¯¹äº‘èµ„æºçš„æœªç»æˆæƒè®¿é—®ï¼Œä»è€Œå¯¼è‡´æ•°æ®æ³„éœ²æˆ–èµ„æºæ“çºµã€‚

#### **ç¼“è§£ç­–ç•¥**

*   **æœ€å°æƒé™åŸåˆ™ï¼š** ä»…ä¸ºæ¯ä¸ªå‡½æ•°åˆ†é…å¿…è¦çš„æƒé™ã€‚

```yaml
provider:
iamRoleStatements:
- Effect: Allow
Action:
- dynamodb:Query
- dynamodb:Scan
Resource: arn:aws:dynamodb:${self:provider.region}:*:table/my-table
```
* **ä½¿ç”¨å•ç‹¬çš„è§’è‰²ï¼š** æ ¹æ®åŠŸèƒ½éœ€æ±‚åŒºåˆ†è§’è‰²ã€‚

***

### **ä¸å®‰å…¨çš„ç§˜å¯†å’Œé…ç½®ç®¡ç†**

å°†æ•æ„Ÿä¿¡æ¯ï¼ˆä¾‹å¦‚ï¼ŒAPI å¯†é’¥ã€æ•°æ®åº“å‡­æ®ï¼‰ç›´æ¥å­˜å‚¨åœ¨ **`serverless.yml`** æˆ–ä»£ç ä¸­ï¼Œå¦‚æœå­˜å‚¨åº“è¢«æ”»ç ´ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ³„éœ²ã€‚

åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼Œ**æ¨è**çš„åœ¨ **`serverless.yml`** æ–‡ä»¶ä¸­å­˜å‚¨ç¯å¢ƒå˜é‡çš„æ–¹æ³•æ˜¯ä½¿ç”¨ `ssm` æˆ– `s3` æä¾›ç¨‹åºï¼Œè¿™å…è®¸åœ¨éƒ¨ç½²æ—¶ä»è¿™äº›æ¥æºè·å– **ç¯å¢ƒå€¼** å¹¶ **é…ç½®** **lambdas** çš„ç¯å¢ƒå˜é‡ï¼Œ**æ–‡æœ¬ä¸­ä¸åŒ…å«å€¼**ï¼

{% hint style="danger" %}
å› æ­¤ï¼Œä»»ä½•æœ‰æƒé™è¯»å– AWS ä¸­ lambdas é…ç½®çš„äººéƒ½å°†èƒ½å¤Ÿ **ä»¥æ˜æ–‡è®¿é—®æ‰€æœ‰è¿™äº›ç¯å¢ƒå˜é‡ï¼**
{% endhint %}

ä¾‹å¦‚ï¼Œä»¥ä¸‹ç¤ºä¾‹å°†ä½¿ç”¨ SSM è·å–ç¯å¢ƒå˜é‡ï¼š
```yaml
provider:
environment:
DB_PASSWORD: ${ssm:/aws/reference/secretsmanager/my-db-password~true}
```
å³ä½¿è¿™å¯ä»¥é˜²æ­¢åœ¨ **`serverless.yml`** æ–‡ä»¶ä¸­ç¡¬ç¼–ç ç¯å¢ƒå˜é‡å€¼ï¼Œä½†è¯¥å€¼å°†åœ¨éƒ¨ç½²æ—¶è·å–ï¼Œå¹¶å°† **ä»¥æ˜æ–‡å½¢å¼æ·»åŠ åˆ° lambda ç¯å¢ƒå˜é‡ä¸­**ã€‚

{% hint style="success" %}
ä½¿ç”¨ serveless.com å­˜å‚¨ç¯å¢ƒå˜é‡çš„æ¨èæ–¹æ³•æ˜¯ **å°†å…¶å­˜å‚¨åœ¨ AWS ç§˜å¯†ä¸­**ï¼Œå¹¶ä»…åœ¨ç¯å¢ƒå˜é‡ä¸­å­˜å‚¨ç§˜å¯†åç§°ï¼Œ**lambda ä»£ç åº”æ”¶é›†å®ƒ**ã€‚
{% endhint %}

#### **ç¼“è§£ç­–ç•¥**

* **ç§˜å¯†ç®¡ç†å™¨é›†æˆï¼š** ä½¿ç”¨ **AWS Secrets Manager** ç­‰æœåŠ¡ã€‚
* **åŠ å¯†å˜é‡ï¼š** åˆ©ç”¨ Serverless Framework çš„åŠ å¯†åŠŸèƒ½æ¥ä¿æŠ¤æ•æ„Ÿæ•°æ®ã€‚
* **è®¿é—®æ§åˆ¶ï¼š** æ ¹æ®è§’è‰²é™åˆ¶å¯¹ç§˜å¯†çš„è®¿é—®ã€‚

***

### **æ˜“å—æ”»å‡»çš„ä»£ç å’Œä¾èµ–é¡¹**

è¿‡æ—¶æˆ–ä¸å®‰å…¨çš„ä¾èµ–é¡¹å¯èƒ½å¼•å…¥æ¼æ´ï¼Œè€Œä¸å½“çš„è¾“å…¥å¤„ç†å¯èƒ½å¯¼è‡´ä»£ç æ³¨å…¥æ”»å‡»ã€‚

#### **ç¼“è§£ç­–ç•¥**

*   **ä¾èµ–ç®¡ç†ï¼š** å®šæœŸæ›´æ–°ä¾èµ–é¡¹å¹¶æ‰«ææ¼æ´ã€‚

```yaml
plugins:
- serverless-webpack
- serverless-plugin-snyk
```
* **è¾“å…¥éªŒè¯ï¼š** å®æ–½ä¸¥æ ¼çš„éªŒè¯å’Œæ¸…ç†æ‰€æœ‰è¾“å…¥ã€‚
* **ä»£ç å®¡æŸ¥ï¼š** è¿›è¡Œå½»åº•çš„å®¡æŸ¥ä»¥è¯†åˆ«å®‰å…¨ç¼ºé™·ã€‚
* **é™æ€åˆ†æï¼š** ä½¿ç”¨å·¥å…·æ£€æµ‹ä»£ç åº“ä¸­çš„æ¼æ´ã€‚

***

### **æ—¥å¿—å’Œç›‘æ§ä¸è¶³**

æ²¡æœ‰é€‚å½“çš„æ—¥å¿—è®°å½•å’Œç›‘æ§ï¼Œæ¶æ„æ´»åŠ¨å¯èƒ½ä¼šè¢«å¿½è§†ï¼Œä»è€Œå»¶è¿Ÿäº‹ä»¶å“åº”ã€‚

#### **ç¼“è§£ç­–ç•¥**

*   **é›†ä¸­æ—¥å¿—è®°å½•ï¼š** ä½¿ç”¨ **AWS CloudWatch** æˆ– **Datadog** ç­‰æœåŠ¡èšåˆæ—¥å¿—ã€‚

```yaml
plugins:
- serverless-plugin-datadog
```
* **å¯ç”¨è¯¦ç»†æ—¥å¿—è®°å½•ï¼š** æ•è·é‡è¦ä¿¡æ¯è€Œä¸æš´éœ²æ•æ„Ÿæ•°æ®ã€‚
* **è®¾ç½®è­¦æŠ¥ï¼š** é…ç½®å¯ç–‘æ´»åŠ¨æˆ–å¼‚å¸¸çš„è­¦æŠ¥ã€‚
* **å®šæœŸç›‘æ§ï¼š** æŒç»­ç›‘æ§æ—¥å¿—å’ŒæŒ‡æ ‡ä»¥å‘ç°æ½œåœ¨çš„å®‰å…¨äº‹ä»¶ã€‚

***

### **ä¸å®‰å…¨çš„ API ç½‘å…³é…ç½®**

å¼€æ”¾æˆ–ä¸å½“ä¿æŠ¤çš„ API å¯èƒ½è¢«åˆ©ç”¨è¿›è¡Œæœªç»æˆæƒçš„è®¿é—®ã€æ‹’ç»æœåŠ¡ (DoS) æ”»å‡»æˆ–è·¨ç«™æ”»å‡»ã€‚

#### **ç¼“è§£ç­–ç•¥**

*   **èº«ä»½éªŒè¯å’Œæˆæƒï¼š** å®æ–½å¼ºå¤§çš„æœºåˆ¶ï¼Œå¦‚ OAuthã€API å¯†é’¥æˆ– JWTã€‚

```yaml
functions:
hello:
handler: handler.hello
events:
- http:
path: hello
method: get
authorizer: aws_iam
```
*   **é€Ÿç‡é™åˆ¶å’ŒèŠ‚æµï¼š** é€šè¿‡é™åˆ¶è¯·æ±‚é€Ÿç‡æ¥é˜²æ­¢æ»¥ç”¨ã€‚

```yaml
provider:
apiGateway:
throttle:
burstLimit: 200
rateLimit: 100
```
*   **å®‰å…¨çš„ CORS é…ç½®ï¼š** é™åˆ¶å…è®¸çš„æ¥æºã€æ–¹æ³•å’Œå¤´ã€‚

```yaml
functions:
hello:
handler: handler.hello
events:
- http:
path: hello
method: get
cors:
origin: https://yourdomain.com
headers:
- Content-Type
```
* **ä½¿ç”¨ Web åº”ç”¨é˜²ç«å¢™ (WAF)ï¼š** è¿‡æ»¤å’Œç›‘æ§ HTTP è¯·æ±‚ä»¥æ£€æµ‹æ¶æ„æ¨¡å¼ã€‚

***

### **åŠŸèƒ½éš”ç¦»ä¸è¶³**

å…±äº«èµ„æºå’Œä¸å……åˆ†çš„éš”ç¦»å¯èƒ½å¯¼è‡´æƒé™æå‡æˆ–å‡½æ•°ä¹‹é—´çš„æ„å¤–äº¤äº’ã€‚

#### **ç¼“è§£ç­–ç•¥**

* **éš”ç¦»å‡½æ•°ï¼š** åˆ†é…ç‹¬ç‰¹çš„èµ„æºå’Œ IAM è§’è‰²ä»¥ç¡®ä¿ç‹¬ç«‹æ“ä½œã€‚
* **èµ„æºåˆ†åŒºï¼š** ä¸ºä¸åŒçš„å‡½æ•°ä½¿ç”¨å•ç‹¬çš„æ•°æ®åº“æˆ–å­˜å‚¨æ¡¶ã€‚
*   **ä½¿ç”¨ VPCï¼š** åœ¨è™šæ‹Ÿç§æœ‰äº‘ä¸­éƒ¨ç½²å‡½æ•°ä»¥å¢å¼ºç½‘ç»œéš”ç¦»ã€‚

```yaml
provider:
vpc:
securityGroupIds:
- sg-xxxxxxxx
subnetIds:
- subnet-xxxxxx
```
* **é™åˆ¶å‡½æ•°æƒé™ï¼š** ç¡®ä¿å‡½æ•°æ— æ³•è®¿é—®æˆ–å¹²æ‰°å½¼æ­¤çš„èµ„æºï¼Œé™¤éæ˜ç¡®éœ€è¦ã€‚

***

### **æ•°æ®ä¿æŠ¤ä¸è¶³**

é™æ€æˆ–ä¼ è¾“ä¸­çš„æœªåŠ å¯†æ•°æ®å¯èƒ½ä¼šè¢«æš´éœ²ï¼Œå¯¼è‡´æ•°æ®æ³„éœ²æˆ–ç¯¡æ”¹ã€‚

#### **ç¼“è§£ç­–ç•¥**

*   **åŠ å¯†é™æ€æ•°æ®ï¼š** åˆ©ç”¨äº‘æœåŠ¡çš„åŠ å¯†åŠŸèƒ½ã€‚

```yaml
resources:
Resources:
MyDynamoDBTable:
Type: AWS::DynamoDB::Table
Properties:
SSESpecification:
SSEEnabled: true
```
* **åŠ å¯†ä¼ è¾“ä¸­çš„æ•°æ®ï¼š** å¯¹æ‰€æœ‰æ•°æ®ä¼ è¾“ä½¿ç”¨ HTTPS/TLSã€‚
* **å®‰å…¨çš„ API é€šä¿¡ï¼š** å¼ºåˆ¶æ‰§è¡ŒåŠ å¯†åè®®å¹¶éªŒè¯è¯ä¹¦ã€‚
* **å®‰å…¨ç®¡ç†åŠ å¯†å¯†é’¥ï¼š** ä½¿ç”¨æ‰˜ç®¡å¯†é’¥æœåŠ¡å¹¶å®šæœŸè½®æ¢å¯†é’¥ã€‚

***

### **ç¼ºä¹é€‚å½“çš„é”™è¯¯å¤„ç†**

è¯¦ç»†çš„é”™è¯¯æ¶ˆæ¯å¯èƒ½æ³„éœ²æœ‰å…³åŸºç¡€è®¾æ–½æˆ–ä»£ç åº“çš„æ•æ„Ÿä¿¡æ¯ï¼Œè€Œæœªå¤„ç†çš„å¼‚å¸¸å¯èƒ½å¯¼è‡´åº”ç”¨ç¨‹åºå´©æºƒã€‚

#### **ç¼“è§£ç­–ç•¥**

*   **é€šç”¨é”™è¯¯æ¶ˆæ¯ï¼š** é¿å…åœ¨é”™è¯¯å“åº”ä¸­æš´éœ²å†…éƒ¨ç»†èŠ‚ã€‚

```javascript
javascriptCopy code// Example in Node.js
exports.hello = async (event) => {
try {
// Function logic
} catch (error) {
console.error(error);
return {
statusCode: 500,
body: JSON.stringify({ message: 'Internal Server Error' }),
};
}
};
```
* **é›†ä¸­é”™è¯¯å¤„ç†ï¼š** åœ¨æ‰€æœ‰å‡½æ•°ä¸­ä¸€è‡´åœ°ç®¡ç†å’Œæ¸…ç†é”™è¯¯ã€‚
* **ç›‘æ§å’Œè®°å½•é”™è¯¯ï¼š** è·Ÿè¸ªå’Œåˆ†æå†…éƒ¨é”™è¯¯ï¼Œè€Œä¸å‘æœ€ç»ˆç”¨æˆ·æš´éœ²ç»†èŠ‚ã€‚

***

### **ä¸å®‰å…¨çš„éƒ¨ç½²å®è·µ**

æš´éœ²çš„éƒ¨ç½²é…ç½®æˆ–å¯¹ CI/CD ç®¡é“çš„æœªç»æˆæƒè®¿é—®å¯èƒ½å¯¼è‡´æ¶æ„ä»£ç éƒ¨ç½²æˆ–é…ç½®é”™è¯¯ã€‚

#### **ç¼“è§£ç­–ç•¥**

* **å®‰å…¨çš„ CI/CD ç®¡é“ï¼š** å®æ–½ä¸¥æ ¼çš„è®¿é—®æ§åˆ¶ã€å¤šå› ç´ èº«ä»½éªŒè¯ (MFA) å’Œå®šæœŸå®¡è®¡ã€‚
* **å®‰å…¨å­˜å‚¨é…ç½®ï¼š** ç¡®ä¿éƒ¨ç½²æ–‡ä»¶ä¸­ä¸åŒ…å«ç¡¬ç¼–ç çš„ç§˜å¯†å’Œæ•æ„Ÿæ•°æ®ã€‚
* **ä½¿ç”¨åŸºç¡€è®¾æ–½å³ä»£ç  (IaC) å®‰å…¨å·¥å…·ï¼š** ä½¿ç”¨ **Checkov** æˆ– **Terraform Sentinel** ç­‰å·¥å…·æ¥å¼ºåˆ¶æ‰§è¡Œå®‰å…¨ç­–ç•¥ã€‚
* **ä¸å¯å˜éƒ¨ç½²ï¼š** é€šè¿‡é‡‡ç”¨ä¸å¯å˜åŸºç¡€è®¾æ–½å®è·µæ¥é˜²æ­¢éƒ¨ç½²åæœªç»æˆæƒçš„æ›´æ”¹ã€‚

***

### **æ’ä»¶å’Œæ‰©å±•ä¸­çš„æ¼æ´**

ä½¿ç”¨æœªç»å®¡æŸ¥æˆ–æ¶æ„çš„ç¬¬ä¸‰æ–¹æ’ä»¶å¯èƒ½ä¼šå°†æ¼æ´å¼•å…¥æ‚¨çš„æ— æœåŠ¡å™¨åº”ç”¨ç¨‹åºã€‚

#### **ç¼“è§£ç­–ç•¥**

* **å½»åº•å®¡æŸ¥æ’ä»¶ï¼š** åœ¨é›†æˆä¹‹å‰è¯„ä¼°æ’ä»¶çš„å®‰å…¨æ€§ï¼Œä¼˜å…ˆé€‰æ‹©æ¥è‡ªä¿¡èª‰è‰¯å¥½çš„æ¥æºçš„æ’ä»¶ã€‚
* **é™åˆ¶æ’ä»¶ä½¿ç”¨ï¼š** ä»…ä½¿ç”¨å¿…è¦çš„æ’ä»¶ä»¥æœ€å°åŒ–æ”»å‡»é¢ã€‚
* **ç›‘æ§æ’ä»¶æ›´æ–°ï¼š** ä¿æŒæ’ä»¶æ›´æ–°ä»¥å—ç›Šäºå®‰å…¨è¡¥ä¸ã€‚
* **éš”ç¦»æ’ä»¶ç¯å¢ƒï¼š** åœ¨éš”ç¦»ç¯å¢ƒä¸­è¿è¡Œæ’ä»¶ä»¥é™åˆ¶æ½œåœ¨çš„å¦¥åã€‚

***

### **æ•æ„Ÿç«¯ç‚¹çš„æš´éœ²**

å…¬å¼€å¯è®¿é—®çš„å‡½æ•°æˆ–ä¸å—é™åˆ¶çš„ API å¯èƒ½è¢«åˆ©ç”¨è¿›è¡Œæœªç»æˆæƒçš„æ“ä½œã€‚

#### **ç¼“è§£ç­–ç•¥**

* **é™åˆ¶å‡½æ•°è®¿é—®ï¼š** ä½¿ç”¨ VPCã€å®‰å…¨ç»„å’Œé˜²ç«å¢™è§„åˆ™é™åˆ¶å¯¹å—ä¿¡ä»»æ¥æºçš„è®¿é—®ã€‚
* **å®æ–½å¼ºå¤§çš„èº«ä»½éªŒè¯ï¼š** ç¡®ä¿æ‰€æœ‰å…¬å¼€çš„ç«¯ç‚¹éƒ½éœ€è¦é€‚å½“çš„èº«ä»½éªŒè¯å’Œæˆæƒã€‚
* **å®‰å…¨ä½¿ç”¨ API ç½‘å…³ï¼š** é…ç½® API ç½‘å…³ä»¥å¼ºåˆ¶æ‰§è¡Œå®‰å…¨ç­–ç•¥ï¼ŒåŒ…æ‹¬è¾“å…¥éªŒè¯å’Œé€Ÿç‡é™åˆ¶ã€‚
* **ç¦ç”¨æœªä½¿ç”¨çš„ç«¯ç‚¹ï¼š** å®šæœŸå®¡æŸ¥å¹¶ç¦ç”¨ä»»ä½•ä¸å†ä½¿ç”¨çš„ç«¯ç‚¹ã€‚

***

### **å›¢é˜Ÿæˆå‘˜å’Œå¤–éƒ¨åˆä½œè€…çš„æƒé™è¿‡å¤§**

å‘å›¢é˜Ÿæˆå‘˜å’Œå¤–éƒ¨åˆä½œè€…æˆäºˆè¿‡å¤šæƒé™å¯èƒ½å¯¼è‡´æœªç»æˆæƒçš„è®¿é—®ã€æ•°æ®æ³„éœ²å’Œèµ„æºæ»¥ç”¨ã€‚åœ¨å¤šä¸ªä¸ªäººå…·æœ‰ä¸åŒçº§åˆ«è®¿é—®æƒé™çš„ç¯å¢ƒä¸­ï¼Œè¿™ç§é£é™©ä¼šåŠ å¤§ï¼Œå¢åŠ æ”»å‡»é¢å’Œå†…éƒ¨å¨èƒçš„æ½œåœ¨æ€§ã€‚

#### **ç¼“è§£ç­–ç•¥**

* **æœ€å°æƒé™åŸåˆ™ï¼š** ç¡®ä¿å›¢é˜Ÿæˆå‘˜å’Œåˆä½œè€…ä»…æ‹¥æœ‰æ‰§è¡Œå…¶ä»»åŠ¡æ‰€éœ€çš„æƒé™ã€‚

***

### **è®¿é—®å¯†é’¥å’Œè®¸å¯è¯å¯†é’¥å®‰å…¨**

**è®¿é—®å¯†é’¥**å’Œ**è®¸å¯è¯å¯†é’¥**æ˜¯ç”¨äºéªŒè¯å’Œæˆæƒä¸ Serverless Framework CLI äº¤äº’çš„å…³é”®å‡­æ®ã€‚

* **è®¸å¯è¯å¯†é’¥ï¼š** å®ƒä»¬æ˜¯ç”¨äºéªŒè¯å¯¹ Serverless Framework ç‰ˆæœ¬ 4 çš„è®¿é—®çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå…è®¸é€šè¿‡ CLI ç™»å½•ã€‚
* **è®¿é—®å¯†é’¥ï¼š** å…è®¸ Serverless Framework CLI ä¸ Serverless Framework Dashboard è¿›è¡Œèº«ä»½éªŒè¯çš„å‡­æ®ã€‚å½“ä½¿ç”¨ `serverless` cli ç™»å½•æ—¶ï¼Œå°† **ç”Ÿæˆå¹¶å­˜å‚¨åœ¨ç¬”è®°æœ¬ç”µè„‘ä¸­**ã€‚æ‚¨è¿˜å¯ä»¥å°†å…¶è®¾ç½®ä¸ºåä¸º `SERVERLESS_ACCESS_KEY` çš„ç¯å¢ƒå˜é‡ã€‚

#### **å®‰å…¨é£é™©**

1. **é€šè¿‡ä»£ç åº“æš´éœ²ï¼š**
* ç¡¬ç¼–ç æˆ–æ„å¤–æäº¤è®¿é—®å¯†é’¥å’Œè®¸å¯è¯å¯†é’¥åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå¯èƒ½å¯¼è‡´æœªç»æˆæƒçš„è®¿é—®ã€‚
2. **ä¸å®‰å…¨çš„å­˜å‚¨ï¼š**
* åœ¨ç¯å¢ƒå˜é‡æˆ–é…ç½®æ–‡ä»¶ä¸­ä»¥æ˜æ–‡å­˜å‚¨å¯†é’¥è€Œæ²¡æœ‰é€‚å½“çš„åŠ å¯†ï¼Œå¢åŠ äº†æ³„éœ²çš„å¯èƒ½æ€§ã€‚
3. **ä¸å½“åˆ†å‘ï¼š**
* é€šè¿‡ä¸å®‰å…¨çš„æ¸ é“ï¼ˆä¾‹å¦‚ç”µå­é‚®ä»¶ã€èŠå¤©ï¼‰å…±äº«å¯†é’¥å¯èƒ½å¯¼è‡´è¢«æ¶æ„è¡Œä¸ºè€…æ‹¦æˆªã€‚
4. **ç¼ºä¹è½®æ¢ï¼š**
* ä¸å®šæœŸè½®æ¢å¯†é’¥ä¼šå»¶é•¿å¯†é’¥è¢«æ³„éœ²åçš„æš´éœ²æ—¶é—´ã€‚
5. **æƒé™è¿‡å¤§ï¼š**
* æ‹¥æœ‰å¹¿æ³›æƒé™çš„å¯†é’¥å¯èƒ½è¢«åˆ©ç”¨åœ¨å¤šä¸ªèµ„æºä¸Šæ‰§è¡Œæœªç»æˆæƒçš„æ“ä½œã€‚

{% hint style="success" %}
å­¦ä¹ å’Œå®è·µ AWS é»‘å®¢æŠ€æœ¯ï¼š<img src="../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">[**HackTricks åŸ¹è®­ AWS çº¢é˜Ÿä¸“å®¶ (ARTE)**](https://training.hacktricks.xyz/courses/arte)<img src="../.gitbook/assets/image (1) (1) (1) (1).png" alt="" data-size="line">\
å­¦ä¹ å’Œå®è·µ GCP é»‘å®¢æŠ€æœ¯ï¼š <img src="../.gitbook/assets/image (2) (1).png" alt="" data-size="line">[**HackTricks åŸ¹è®­ GCP çº¢é˜Ÿä¸“å®¶ (GRTE)**<img src="../.gitbook/assets/image (2) (1).png" alt="" data-size="line">](https://training.hacktricks.xyz/courses/grte)

<details>

<summary>æ”¯æŒ HackTricks</summary>

* æŸ¥çœ‹ [**è®¢é˜…è®¡åˆ’**](https://github.com/sponsors/carlospolop)!
* **åŠ å…¥** ğŸ’¬ [**Discord ç¾¤ç»„**](https://discord.gg/hRep4RUj7f) æˆ– [**ç”µæŠ¥ç¾¤ç»„**](https://t.me/peass) æˆ– **åœ¨ Twitter ä¸Šå…³æ³¨** ğŸ¦ [**@hacktricks\_live**](https://twitter.com/hacktricks_live)**.**
* **é€šè¿‡å‘** [**HackTricks**](https://github.com/carlospolop/hacktricks) å’Œ [**HackTricks Cloud**](https://github.com/carlospolop/hacktricks-cloud) github ä»“åº“æäº¤ PR åˆ†äº«é»‘å®¢æŠ€å·§ã€‚

</details>
{% endhint %}
